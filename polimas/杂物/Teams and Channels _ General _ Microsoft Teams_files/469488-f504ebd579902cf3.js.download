"use strict";(this.webpackChunk_msteams_react_web_client=this.webpackChunk_msteams_react_web_client||[]).push([[469488,978444],{151400:(e,t,s)=>{function i(e){return e.split("-")[1]}function n(e){return"y"===e?"height":"width"}function o(e){return e.split("-")[0]}function r(e){return["top","bottom"].includes(o(e))?"x":"y"}function a(e,t,s){let{reference:a,floating:l}=e;const c=a.x+a.width/2-l.width/2,u=a.y+a.height/2-l.height/2,d=r(t),h=n(d),f=a[h]/2-l[h]/2,m="x"===d;let _;switch(o(t)){case"top":_={x:c,y:a.y-l.height};break;case"bottom":_={x:c,y:a.y+a.height};break;case"right":_={x:a.x+a.width,y:u};break;case"left":_={x:a.x-l.width,y:u};break;default:_={x:a.x,y:a.y}}switch(i(t)){case"start":_[d]-=f*(s&&m?-1:1);break;case"end":_[d]+=f*(s&&m?-1:1)}return _}s.d(t,{x7:()=>_,X5:()=>T,oo:()=>l,US:()=>d,RR:()=>F,Cp:()=>x,Qo:()=>D,dr:()=>N,cv:()=>O,JB:()=>u,uY:()=>R,dp:()=>A});const l=async(e,t,s)=>{const{placement:i="bottom",strategy:n="absolute",middleware:o=[],platform:r}=s,l=o.filter(Boolean),c=await(null==r.isRTL?void 0:r.isRTL(t));let u=await r.getElementRects({reference:e,floating:t,strategy:n}),{x:d,y:h}=a(u,i,c),f=i,m={},_=0;for(let s=0;s<l.length;s++){const{name:o,fn:b}=l[s],{x:v,y:g,data:p,reset:y}=await b({x:d,y:h,initialPlacement:i,placement:f,strategy:n,middlewareData:m,rects:u,platform:r,elements:{reference:e,floating:t}});d=null!=v?v:d,h=null!=g?g:h,m={...m,[o]:{...m[o],...p}},y&&_<=50&&(_++,"object"==typeof y&&(y.placement&&(f=y.placement),y.rects&&(u=!0===y.rects?await r.getElementRects({reference:e,floating:t,strategy:n}):y.rects),({x:d,y:h}=a(u,f,c))),s=-1)}return{x:d,y:h,placement:f,strategy:n,middlewareData:m}};function c(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function u(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function d(e,t){var s;void 0===t&&(t={});const{x:i,y:n,platform:o,rects:r,elements:a,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:_=0}=t,b=c(_),v=a[m?"floating"===f?"reference":"floating":f],g=u(await o.getClippingRect({element:null==(s=await(null==o.isElement?void 0:o.isElement(v)))||s?v:v.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),p="floating"===f?{...r.floating,x:i,y:n}:r.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),w=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},E=u(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:p,offsetParent:y,strategy:l}):p);return{top:(g.top-E.top+b.top)/w.y,bottom:(E.bottom-g.bottom+b.bottom)/w.y,left:(g.left-E.left+b.left)/w.x,right:(E.right-g.right+b.right)/w.x}}const h=Math.min,f=Math.max;function m(e,t,s){return f(e,h(t,s))}const _=e=>({name:"arrow",options:e,async fn(t){const{element:s,padding:o=0}=e||{},{x:a,y:l,placement:u,rects:d,platform:h}=t;if(null==s)return{};const f=c(o),_={x:a,y:l},b=r(u),v=n(b),g=await h.getDimensions(s),p="y"===b?"top":"left",y="y"===b?"bottom":"right",w=d.reference[v]+d.reference[b]-_[b]-d.floating[v],E=_[b]-d.reference[b],T=await(null==h.getOffsetParent?void 0:h.getOffsetParent(s));let F=T?"y"===b?T.clientHeight||0:T.clientWidth||0:0;0===F&&(F=d.floating[v]);const I=w/2-E/2,k=f[p],x=F-g[v]-f[y],D=F/2-g[v]/2+I,O=m(k,D,x),C=null!=i(u)&&D!=O&&d.reference[v]/2-(D<k?f[p]:f[y])-g[v]/2<0;return{[b]:_[b]-(C?D<k?k-D:x-D:0),data:{[b]:O,centerOffset:D-O}}}}),b=["top","right","bottom","left"],v=b.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),g={left:"right",right:"left",bottom:"top",top:"bottom"};function p(e){return e.replace(/left|right|bottom|top/g,(e=>g[e]))}function y(e,t,s){void 0===s&&(s=!1);const o=i(e),a=r(e),l=n(a);let c="x"===a?o===(s?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=p(c)),{main:c,cross:p(c)}}const w={start:"end",end:"start"};function E(e){return e.replace(/start|end/g,(e=>w[e]))}const T=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var s,n,r;const{rects:a,middlewareData:l,placement:c,platform:u,elements:h}=t,{crossAxis:f=!1,alignment:m,allowedPlacements:_=v,autoAlignment:b=!0,...g}=e,p=void 0!==m||_===v?function(e,t,s){return(e?[...s.filter((t=>i(t)===e)),...s.filter((t=>i(t)!==e))]:s.filter((e=>o(e)===e))).filter((s=>!e||i(s)===e||!!t&&E(s)!==s))}(m||null,b,_):_,w=await d(t,g),T=(null==(s=l.autoPlacement)?void 0:s.index)||0,F=p[T];if(null==F)return{};const{main:I,cross:k}=y(F,a,await(null==u.isRTL?void 0:u.isRTL(h.floating)));if(c!==F)return{reset:{placement:p[0]}};const x=[w[o(F)],w[I],w[k]],D=[...(null==(n=l.autoPlacement)?void 0:n.overflows)||[],{placement:F,overflows:x}],O=p[T+1];if(O)return{data:{index:T+1,overflows:D},reset:{placement:O}};const C=D.map((e=>{const t=i(e.placement);return[e.placement,t&&f?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),R=(null==(r=C.filter((e=>e[2].slice(0,i(e[0])?2:3).every((e=>e<=0))))[0])?void 0:r[0])||C[0][0];return R!==c?{data:{index:T+1,overflows:D},reset:{placement:R}}:{}}}},F=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var s;const{placement:n,middlewareData:r,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...g}=e,w=o(n),T=o(l)===l,F=await(null==c.isRTL?void 0:c.isRTL(u.floating)),I=m||(T||!v?[p(l)]:function(e){const t=p(e);return[E(e),t,E(t)]}(l));m||"none"===b||I.push(...function(e,t,s,n){const r=i(e);let a=function(e,t,s){const i=["left","right"],n=["right","left"],o=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return s?t?n:i:t?i:n;case"left":case"right":return t?o:r;default:return[]}}(o(e),"start"===s,n);return r&&(a=a.map((e=>e+"-"+r)),t&&(a=a.concat(a.map(E)))),a}(l,v,b,F));const k=[l,...I],x=await d(t,g),D=[];let O=(null==(s=r.flip)?void 0:s.overflows)||[];if(h&&D.push(x[w]),f){const{main:e,cross:t}=y(n,a,F);D.push(x[e],x[t])}if(O=[...O,{placement:n,overflows:D}],!D.every((e=>e<=0))){var C,R;const e=((null==(C=r.flip)?void 0:C.index)||0)+1,t=k[e];if(t)return{data:{index:e,overflows:O},reset:{placement:t}};let s=null==(R=O.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:R.placement;if(!s)switch(_){case"bestFit":{var N;const e=null==(N=O.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:N[0];e&&(s=e);break}case"initialPlacement":s=l}if(n!==s)return{reset:{placement:s}}}return{}}}};function I(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function k(e){return b.some((t=>e[t]>=0))}const x=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{strategy:s="referenceHidden",...i}=e,{rects:n}=t;switch(s){case"referenceHidden":{const e=I(await d(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:k(e)}}}case"escaped":{const e=I(await d(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:k(e)}}}default:return{}}}}},D=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:s,elements:i,rects:n,platform:a,strategy:l}=t,{padding:d=2,x:m,y:_}=e,b=u(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:n.reference,offsetParent:await(null==a.getOffsetParent?void 0:a.getOffsetParent(i.floating)),strategy:l}):n.reference),v=await(null==a.getClientRects?void 0:a.getClientRects(i.reference))||[],g=c(d),p=await a.getElementRects({reference:{getBoundingClientRect:function(){if(2===v.length&&v[0].left>v[1].right&&null!=m&&null!=_)return v.find((e=>m>e.left-g.left&&m<e.right+g.right&&_>e.top-g.top&&_<e.bottom+g.bottom))||b;if(v.length>=2){if("x"===r(s)){const e=v[0],t=v[v.length-1],i="top"===o(s),n=e.top,r=t.bottom,a=i?e.left:t.left,l=i?e.right:t.right;return{top:n,bottom:r,left:a,right:l,width:l-a,height:r-n,x:a,y:n}}const e="left"===o(s),t=f(...v.map((e=>e.right))),i=h(...v.map((e=>e.left))),n=v.filter((s=>e?s.left===i:s.right===t)),a=n[0].top,l=n[n.length-1].bottom;return{top:a,bottom:l,left:i,right:t,width:t-i,height:l-a,x:i,y:a}}return b}},floating:i.floating,strategy:l});return n.reference.x!==p.reference.x||n.reference.y!==p.reference.y||n.reference.width!==p.reference.width||n.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}},O=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:s,y:n}=t,a=await async function(e,t){const{placement:s,platform:n,elements:a}=e,l=await(null==n.isRTL?void 0:n.isRTL(a.floating)),c=o(s),u=i(s),d="x"===r(s),h=["left","top"].includes(c)?-1:1,f=l&&d?-1:1,m="function"==typeof t?t(e):t;let{mainAxis:_,crossAxis:b,alignmentAxis:v}="number"==typeof m?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return u&&"number"==typeof v&&(b="end"===u?-1*v:v),d?{x:b*f,y:_*h}:{x:_*h,y:b*f}}(t,e);return{x:s+a.x,y:n+a.y,data:a}}}};function C(e){return"x"===e?"y":"x"}const R=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:i,placement:n}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:s}=e;return{x:t,y:s}}},...u}=e,h={x:s,y:i},f=await d(t,u),_=r(o(n)),b=C(_);let v=h[_],g=h[b];if(a){const e="y"===_?"bottom":"right";v=m(v+f["y"===_?"top":"left"],v,v-f[e])}if(l){const e="y"===b?"bottom":"right";g=m(g+f["y"===b?"top":"left"],g,g-f[e])}const p=c.fn({...t,[_]:v,[b]:g});return{...p,data:{x:p.x-s,y:p.y-i}}}}},N=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:s,y:i,placement:n,rects:a,middlewareData:l}=t,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=e,h={x:s,y:i},f=r(n),m=C(f);let _=h[f],b=h[m];const v="function"==typeof c?c(t):c,g="number"==typeof v?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const e="y"===f?"height":"width",t=a.reference[f]-a.floating[e]+g.mainAxis,s=a.reference[f]+a.reference[e]-g.mainAxis;_<t?_=t:_>s&&(_=s)}if(d){var p,y;const e="y"===f?"width":"height",t=["top","left"].includes(o(n)),s=a.reference[m]-a.floating[e]+(t&&(null==(p=l.offset)?void 0:p[m])||0)+(t?0:g.crossAxis),i=a.reference[m]+a.reference[e]+(t?0:(null==(y=l.offset)?void 0:y[m])||0)-(t?g.crossAxis:0);b<s?b=s:b>i&&(b=i)}return{[f]:_,[m]:b}}}},A=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:s,rects:n,platform:a,elements:l}=t,{apply:c=(()=>{}),...u}=e,m=await d(t,u),_=o(s),b=i(s),v="x"===r(s),{width:g,height:p}=n.floating;let y,w;"top"===_||"bottom"===_?(y=_,w=b===(await(null==a.isRTL?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=_,y="end"===b?"top":"bottom");const E=p-m[y],T=g-m[w];let F=E,I=T;if(v?I=h(g-m.right-m.left,T):F=h(p-m.bottom-m.top,E),!t.middlewareData.shift&&!b){const e=f(m.left,0),t=f(m.right,0),s=f(m.top,0),i=f(m.bottom,0);v?I=g-2*(0!==e||0!==t?e+t:f(m.left,m.right)):F=p-2*(0!==s||0!==i?s+i:f(m.top,m.bottom))}await c({...t,availableWidth:I,availableHeight:F});const k=await a.getDimensions(l.floating);return g!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}}},613162:(e,t,s)=>{s.d(t,{oo:()=>L});var i=s(151400);function n(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function o(e){return n(e).getComputedStyle(e)}const r=Math.min,a=Math.max,l=Math.round;function c(e){const t=o(e);let s=parseFloat(t.width),i=parseFloat(t.height);const n=e.offsetWidth,r=e.offsetHeight,a=l(s)!==n||l(i)!==r;return a&&(s=n,i=r),{width:s,height:i,fallback:a}}function u(e){return _(e)?(e.nodeName||"").toLowerCase():""}let d;function h(){if(d)return d;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(d=e.brands.map((e=>e.brand+"/"+e.version)).join(" "),d):navigator.userAgent}function f(e){return e instanceof n(e).HTMLElement}function m(e){return e instanceof n(e).Element}function _(e){return e instanceof n(e).Node}function b(e){return"undefined"!=typeof ShadowRoot&&(e instanceof n(e).ShadowRoot||e instanceof ShadowRoot)}function v(e){const{overflow:t,overflowX:s,overflowY:i,display:n}=o(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+s)&&!["inline","contents"].includes(n)}function g(e){return["table","td","th"].includes(u(e))}function p(e){const t=/firefox/i.test(h()),s=o(e),i=s.backdropFilter||s.WebkitBackdropFilter;return"none"!==s.transform||"none"!==s.perspective||!!i&&"none"!==i||t&&"filter"===s.willChange||t&&!!s.filter&&"none"!==s.filter||["transform","perspective"].some((e=>s.willChange.includes(e)))||["paint","layout","strict","content"].some((e=>{const t=s.contain;return null!=t&&t.includes(e)}))}function y(){return/^((?!chrome|android).)*safari/i.test(h())}function w(e){return["html","body","#document"].includes(u(e))}function E(e){return m(e)?e:e.contextElement}const T={x:1,y:1};function F(e){const t=E(e);if(!f(t))return T;const s=t.getBoundingClientRect(),{width:i,height:n,fallback:o}=c(t);let r=(o?l(s.width):s.width)/i,a=(o?l(s.height):s.height)/n;return r&&Number.isFinite(r)||(r=1),a&&Number.isFinite(a)||(a=1),{x:r,y:a}}function I(e,t,s,i){var o,r;void 0===t&&(t=!1),void 0===s&&(s=!1);const a=e.getBoundingClientRect(),l=E(e);let c=T;t&&(i?m(i)&&(c=F(i)):c=F(e));const u=l?n(l):window,d=y()&&s;let h=(a.left+(d&&(null==(o=u.visualViewport)?void 0:o.offsetLeft)||0))/c.x,f=(a.top+(d&&(null==(r=u.visualViewport)?void 0:r.offsetTop)||0))/c.y,_=a.width/c.x,b=a.height/c.y;if(l){const e=n(l),t=i&&m(i)?n(i):i;let s=e.frameElement;for(;s&&i&&t!==e;){const e=F(s),t=s.getBoundingClientRect(),i=getComputedStyle(s);t.x+=(s.clientLeft+parseFloat(i.paddingLeft))*e.x,t.y+=(s.clientTop+parseFloat(i.paddingTop))*e.y,h*=e.x,f*=e.y,_*=e.x,b*=e.y,h+=t.x,f+=t.y,s=n(s).frameElement}}return{width:_,height:b,top:f,right:h+_,bottom:f+b,left:h,x:h,y:f}}function k(e){return((_(e)?e.ownerDocument:e.document)||window.document).documentElement}function x(e){return m(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function D(e){return I(k(e)).left+x(e).scrollLeft}function O(e){if("html"===u(e))return e;const t=e.assignedSlot||e.parentNode||b(e)&&e.host||k(e);return b(t)?t.host:t}function C(e){const t=O(e);return w(t)?t.ownerDocument.body:f(t)&&v(t)?t:C(t)}function R(e,t){var s;void 0===t&&(t=[]);const i=C(e),o=i===(null==(s=e.ownerDocument)?void 0:s.body),r=n(i);return o?t.concat(r,r.visualViewport||[],v(i)?i:[]):t.concat(i,R(i))}function N(e,t,s){let r;if("viewport"===t)r=function(e,t){const s=n(e),i=k(e),o=s.visualViewport;let r=i.clientWidth,a=i.clientHeight,l=0,c=0;if(o){r=o.width,a=o.height;const e=y();(!e||e&&"fixed"===t)&&(l=o.offsetLeft,c=o.offsetTop)}return{width:r,height:a,x:l,y:c}}(e,s);else if("document"===t)r=function(e){const t=k(e),s=x(e),i=e.ownerDocument.body,n=a(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=a(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-s.scrollLeft+D(e);const c=-s.scrollTop;return"rtl"===o(i).direction&&(l+=a(t.clientWidth,i.clientWidth)-n),{width:n,height:r,x:l,y:c}}(k(e));else if(m(t))r=function(e,t){const s=I(e,!0,"fixed"===t),i=s.top+e.clientTop,n=s.left+e.clientLeft,o=f(e)?F(e):{x:1,y:1};return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:n*o.x,y:i*o.y}}(t,s);else{const s={...t};if(y()){var l,c;const t=n(e);s.x-=(null==(l=t.visualViewport)?void 0:l.offsetLeft)||0,s.y-=(null==(c=t.visualViewport)?void 0:c.offsetTop)||0}r=s}return(0,i.JB)(r)}function A(e,t){return f(e)&&"fixed"!==o(e).position?t?t(e):e.offsetParent:null}function S(e,t){const s=n(e);let i=A(e,t);for(;i&&g(i)&&"static"===o(i).position;)i=A(i,t);return i&&("html"===u(i)||"body"===u(i)&&"static"===o(i).position&&!p(i))?s:i||function(e){let t=O(e);for(;f(t)&&!w(t);){if(p(t))return t;t=O(t)}return null}(e)||s}function M(e,t,s){const i=f(t),n=k(t),o=I(e,!0,"fixed"===s,t);let r={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(i||!i&&"fixed"!==s)if(("body"!==u(t)||v(n))&&(r=x(t)),f(t)){const e=I(t,!0);a.x=e.x+t.clientLeft,a.y=e.y+t.clientTop}else n&&(a.x=D(n));return{x:o.left+r.scrollLeft-a.x,y:o.top+r.scrollTop-a.y,width:o.width,height:o.height}}const P={getClippingRect:function(e){let{element:t,boundary:s,rootBoundary:i,strategy:n}=e;const l="clippingAncestors"===s?function(e,t){const s=t.get(e);if(s)return s;let i=R(e).filter((e=>m(e)&&"body"!==u(e))),n=null;const r="fixed"===o(e).position;let a=r?O(e):e;for(;m(a)&&!w(a);){const e=o(a),t=p(a);"fixed"===e.position?n=null:(r?t||n:t||"static"!==e.position||!n||!["absolute","fixed"].includes(n.position))?n=e:i=i.filter((e=>e!==a)),a=O(a)}return t.set(e,i),i}(t,this._c):[].concat(s),c=[...l,i],d=c[0],h=c.reduce(((e,s)=>{const i=N(t,s,n);return e.top=a(i.top,e.top),e.right=r(i.right,e.right),e.bottom=r(i.bottom,e.bottom),e.left=a(i.left,e.left),e}),N(t,d,n));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:s,strategy:i}=e;const n=f(s),o=k(s);if(s===o)return t;let r={scrollLeft:0,scrollTop:0},a={x:1,y:1};const l={x:0,y:0};if((n||!n&&"fixed"!==i)&&(("body"!==u(s)||v(o))&&(r=x(s)),f(s))){const e=I(s);a=F(s),l.x=e.x+s.clientLeft,l.y=e.y+s.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-r.scrollLeft*a.x+l.x,y:t.y*a.y-r.scrollTop*a.y+l.y}},isElement:m,getDimensions:function(e){return f(e)?c(e):e.getBoundingClientRect()},getOffsetParent:S,getDocumentElement:k,getScale:F,async getElementRects(e){let{reference:t,floating:s,strategy:i}=e;const n=this.getOffsetParent||S,o=this.getDimensions;return{reference:M(t,await n(s),i),floating:{x:0,y:0,...await o(s)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===o(e).direction};const L=(e,t,s)=>{const n=new Map,o={platform:P,...s},r={...o.platform,_c:n};return(0,i.oo)(e,t,{...o,platform:r})}},569898:(e,t,s)=>{if(s.d(t,{U:()=>n}),613666==s.j)var i=s(484400);function n(e,t,s,n=i.F){const o=n();return function(i){const{dir:n,renderer:r}=i,a="ltr"===n?e:t||e;return o(r,Array.isArray(s)?{r:s}:s),a}}},520786:(e,t,s)=>{if(s.d(t,{s:()=>o}),613666==s.j)var i=s(484400);if(613666==s.j)var n=s(609710);function o(e,t,s=i.F){const o=s();let r=null,a=null;return function(s){const{dir:i,renderer:l}=s,c="ltr"===i;return c?null===r&&(r=(0,n.V)(e,i)):null===a&&(a=(0,n.V)(e,i)),o(l,t),c?r:a}}},669640:(e,t,s)=>{s.d(t,{$Q:()=>l,Q8:()=>r,M_:()=>f,xR:()=>a,Hf:()=>c,JM:()=>_,de:()=>b,xb:()=>u,gk:()=>d,Qz:()=>h,jD:()=>m,C_:()=>v});const i="undefined"==typeof window?s.g:window,n="@griffel/";function o(e,t){return i[Symbol.for(n+e)]||(i[Symbol.for(n+e)]=t),i[Symbol.for(n+e)]}const r=o("DEBUG_RESET_CLASSES",{}),a=o("DEFINITION_LOOKUP_TABLE",{}),l="data-make-styles-bucket",c="f",u="r",d=7,h="___",f="_",m=h.length+d,_=0,b=1,v={all:1,animation:1,background:1,backgroundPosition:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockStart:1,borderBottom:1,borderColor:1,borderImage:1,borderInline:1,borderInlineEnd:1,borderInlineStart:1,borderLeft:1,borderRadius:1,borderRight:1,borderStyle:1,borderTop:1,borderWidth:1,caret:1,columns:1,columnRule:1,containIntrinsicSize:1,container:1,flex:1,flexFlow:1,font:1,gap:1,grid:1,gridArea:1,gridColumn:1,gridRow:1,gridTemplate:1,inset:1,insetBlock:1,insetInline:1,lineClamp:1,listStyle:1,margin:1,marginBlock:1,marginInline:1,mask:1,maskBorder:1,motion:1,offset:1,outline:1,overflow:1,overscrollBehavior:1,padding:1,paddingBlock:1,paddingInline:1,placeItems:1,placeContent:1,placeSelf:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginInline:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingInline:1,scrollSnapMargin:1,scrollTimeline:1,textDecoration:1,textEmphasis:1,transition:1}},484400:(e,t,s)=>{s.d(t,{F:()=>i});const i=()=>{const e={};return function(t,s){void 0===e[t.id]&&(t.insertCSSRules(s),e[t.id]=!0)}}},423502:(e,t,s)=>{if(s.d(t,{z:()=>a}),613666==s.j)var i=s(669640);if(613666==s.j)var n=s(493932);if(613666==s.j)var o=s(609710);const r={};function a(){let e=null,t="",s="";const a=new Array(arguments.length);for(let e=0;e<arguments.length;e++){const n=arguments[e];if("string"==typeof n&&""!==n){const o=n.indexOf(i.Qz);if(-1===o)t+=n+" ";else{const r=n.substr(o,i.jD);o>0&&(t+=n.slice(0,o)),s+=r,a[e]=r}0}}if(""===s)return t.slice(0,-1);const l=r[s];if(void 0!==l)return t+l;const c=[];for(let t=0;t<arguments.length;t++){const s=a[t];if(s){const t=i.xR[s];t&&(c.push(t[i.JM]),e=t[i.de])}}const u=Object.assign.apply(Object,[{}].concat(c));let d=(0,o.w)(u,e);const h=(0,n.m)(d,e,a);return d=h+" "+d,r[s]=d,i.xR[h]=[u,e],t+d}},833816:(e,t,s)=>{if(s.d(t,{u:()=>l,v:()=>a}),613666==s.j)var i=s(816806);if(613666==s.j)var n=s(605150);if(613666==s.j)var o=s(415440);let r=0;const a=(e,t)=>e<t?-1:e>t?1:0;function l(e=("undefined"==typeof document?void 0:document),t={}){const{unstable_filterCSSRule:s,insertionPoint:l,styleElementAttributes:c,compareMediaQueries:u=a}=t,d={insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(c),compareMediaQueries:u,id:"d"+r++,insertCSSRules(t){for(const r in t){const a=t[r];for(let t=0,c=a.length;t<c;t++){const[c,u]=(0,i.F)(a[t]),h=(0,n.T)(r,e,l||null,d,u);d.insertionCache[c]||(d.insertionCache[c]=r,s?s(c)&&(0,o.u)(h,c):(0,o.u)(h,c))}}}};return d}},158435:(e,t,s)=>{if(s.d(t,{T:()=>n,L:()=>o}),613666==s.j)var i=s(669640);function n(e,t,s){const n=[];if(s[i.$Q]=t,e)for(const t in s)e.setAttribute(t,s[t]);return{elementAttributes:s,insertRule:function(t){return(null==e?void 0:e.sheet)?e.sheet.insertRule(t,e.sheet.cssRules.length):n.push(t)},element:e,bucketName:t,cssRules:()=>(null==e?void 0:e.sheet)?Array.from(e.sheet.cssRules).map((e=>e.cssText)):n}}function o(e){const t=Array.from(e.attributes).reduce(((e,t)=>(e[t.name]=t.value,e)),{});return n(e,t[i.$Q],t)}},605150:(e,t,s)=>{if(s.d(t,{T:()=>a,U:()=>o}),613666==s.j)var i=s(669640);if(613666==s.j)var n=s(158435);const o=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"],r=o.reduce(((e,t,s)=>(e[t]=s,e)),{});function a(e,t,s,o,a={}){const l="m"===e,c=l?e+a.m:e;if(!o.stylesheets[c]){const u=t&&t.createElement("style"),d=(0,n.T)(u,e,{...o.styleElementAttributes,...l&&{media:a.m}});o.stylesheets[c]=d,t&&u&&t.head.insertBefore(u,function(e,t,s,n,o){const a=r[s];let l=e=>a-r[e.getAttribute(i.$Q)],c=e.head.querySelectorAll(`[${i.$Q}]`);if("m"===s&&o){const t=e.head.querySelectorAll(`[${i.$Q}="${s}"]`);t.length&&(c=t,l=e=>n.compareMediaQueries(o.m,e.media))}const u=c.length;let d=u-1;for(;d>=0;){const e=c.item(d);if(l(e)>0)return e.nextSibling;d--}if(u>0)return c.item(0);return t?t.nextSibling:null}(t,s,e,o,a))}return o.stylesheets[c]}},147445:(e,t,s)=>{if(s.d(t,{l:()=>a}),613666==s.j)var i=s(158435);const n=/@(media|supports|layer)[^{]+\{([\s\S]+?})\s*}/g,o=/\.([^{:]+)(:[^{]+)?{(?:[^}]*;)?([^}]*?)}/g,r={k:/@(-webkit-)?keyframes ([^{]+){((?:(?:from|to|(?:\d+\.?\d*%))\{(?:[^}])*})*)}/g,t:n,m:n};function a(e,t=("undefined"==typeof document?void 0:document)){if(t){t.querySelectorAll("[data-make-styles-bucket]").forEach((t=>{const s=t.dataset.makeStylesBucket,n=r[s]||o,a="m"===s?s+t.media:s;let l;for(e.stylesheets[a]||(e.stylesheets[a]=(0,i.L)(t));l=n.exec(t.textContent);){const[t]=l;e.insertionCache[t]=s}}))}}},415440:(e,t,s)=>{s.d(t,{u:()=>i});function i(e,t){try{e.insertRule(t)}catch(e){0}}},609710:(e,t,s)=>{if(s.d(t,{w:()=>o,V:()=>r}),613666==s.j)var i=s(669640);if(613666==s.j)var n=s(493932);function o(e,t){let s="";for(const i in e){const n=e[i];if(n){const e=Array.isArray(n);s+="rtl"===t?(e?n[1]:n)+" ":(e?n[0]:n)+" "}}return s.slice(0,-1)}function r(e,t){const s={};for(const r in e){const a=o(e[r],t);if(""===a){s[r]="";continue}const l=(0,n.m)(a,t),c=l+" "+a;i.xR[l]=[e[r],t],s[r]=c}return s}},493932:(e,t,s)=>{if(s.d(t,{m:()=>r}),613666==s.j)var i=s(925477);if(613666==s.j)var n=s(669640);function o(e){const t=e.length;if(t===n.gk)return e;for(let s=t;s<n.gk;s++)e+="0";return e}function r(e,t,s=[]){return n.Qz+o((0,i.Z)(e+t))}},816806:(e,t,s)=>{function i(e){return Array.isArray(e)?e:[e]}s.d(t,{F:()=>i})},409034:(e,t,s)=>{if(s.d(t,{m:()=>l,a:()=>c}),613666==s.j)var i=s(833816);if(613666==s.j)var n=s(147445);var o=s(818319);if(613666==s.j)var r=s(525450);const a=613666==s.j?o.createContext((0,i.u)()):null,l=({children:e,renderer:t,targetDocument:s})=>((0,r.N)()&&o.useMemo((()=>{(0,n.l)(t,s)}),[t,s]),o.createElement(a.Provider,{value:t},e));function c(){return o.useContext(a)}},458499:(e,t,s)=>{s.d(t,{n:()=>o,s:()=>r});var i=s(818319);const n=613666==s.j?i.createContext("ltr"):null,o=({children:e,dir:t})=>i.createElement(n.Provider,{value:t},e);function r(){return i.useContext(n)}},896498:(e,t,s)=>{if(s.d(t,{U:()=>a}),613666==s.j)var i=s(569898);if(613666==s.j)var n=s(427135);if(613666==s.j)var o=s(409034);if(613666==s.j)var r=s(458499);function a(e,t,s){const a=(0,i.U)(e,t,s,n.F);return function(){const e=(0,r.s)(),t=(0,o.a)();return a({dir:e,renderer:t})}}},379525:(e,t,s)=>{if(s.d(t,{s:()=>a}),613666==s.j)var i=s(520786);if(613666==s.j)var n=s(427135);if(613666==s.j)var o=s(409034);if(613666==s.j)var r=s(458499);function a(e,t){const s=(0,i.s)(e,t,n.F);return function(){const e=(0,r.s)(),t=(0,o.a)();return s({dir:e,renderer:t})}}},427135:(e,t,s)=>{if(s.d(t,{F:()=>o}),613666==s.j)var i=s(525450);if(613666==s.j)var n=s(823264);const o=()=>{const e={};return function(t,s){n.N&&(0,i.N)()?(0,n.N)((()=>{t.insertCSSRules(s)}),[t,s]):void 0===e[t.id]&&(t.insertCSSRules(s),e[t.id]=!0)}}},823264:(e,t,s)=>{s.d(t,{N:()=>n});var i=s(818319);const n=i.useInsertionEffect?i.useInsertionEffect:void 0},525450:(e,t,s)=>{function i(){return"undefined"!=typeof window&&!(!window.document||!window.document.createElement)}s.d(t,{N:()=>i})},686956:(e,t,s)=>{s.r(t),s.d(t,{KEYBORG_FOCUSIN:()=>o,Keyborg:()=>f,createKeyborg:()=>m,disposeKeyborg:()=>_,getLastFocusedProgrammatically:()=>l,nativeFocus:()=>a,version:()=>b});const i="undefined"!=typeof WeakRef;class n{constructor(e){i&&"object"==typeof e?this._weakRef=new WeakRef(e):this._instance=e}deref(){var e,t,s;let i;return this._weakRef?(i=null===(e=this._weakRef)||void 0===e?void 0:e.deref(),i||delete this._weakRef):(i=this._instance,(null===(s=null===(t=i)||void 0===t?void 0:t.isDisposed)||void 0===s?void 0:s.call(t))&&delete this._instance),i}}const o="keyborg:focusin";let r=!1;function a(e){const t=e.focus;t.__keyborgNativeFocus?t.__keyborgNativeFocus.call(e):e.focus()}function l(e){var t;const s=e.__keyborgData;return s?(null===(t=s.lastFocusedProgrammatically)||void 0===t?void 0:t.deref())||null:void 0}let c=0;class u{constructor(){this.__keyborgCoreRefs={},this._isNavigatingWithKeyboard=!1}add(e){const t=e.id;t in this.__keyborgCoreRefs||(this.__keyborgCoreRefs[t]=new n(e))}remove(e){delete this.__keyborgCoreRefs[e],0===Object.keys(this.__keyborgCoreRefs).length&&(this._isNavigatingWithKeyboard=!1)}setVal(e){if(this._isNavigatingWithKeyboard!==e){this._isNavigatingWithKeyboard=e;for(const t of Object.keys(this.__keyborgCoreRefs)){const s=this.__keyborgCoreRefs[t].deref();s?s.update(e):this.remove(t)}}}getVal(){return this._isNavigatingWithKeyboard}}const d=new u;class h{constructor(e,t){this._onFocusIn=e=>{if(this._isMouseUsedTimer)return;if(d.getVal())return;const t=e.details;t.relatedTarget&&(t.isFocusedProgrammatically||void 0===t.isFocusedProgrammatically||d.setVal(!0))},this._onMouseDown=e=>{if(0===e.buttons||0===e.clientX&&0===e.clientY&&0===e.screenX&&0===e.screenY)return;const t=this._win;t&&(this._isMouseUsedTimer&&t.clearTimeout(this._isMouseUsedTimer),this._isMouseUsedTimer=t.setTimeout((()=>{delete this._isMouseUsedTimer}),1e3)),d.setVal(!1)},this._onKeyDown=e=>{var t,s;const i=d.getVal(),n=e.keyCode,o=this._triggerKeys;if(i||o&&!o.has(n))i&&(null===(s=this._dismissKeys)||void 0===s?void 0:s.has(n))&&this._scheduleDismiss();else{const e=null===(t=this._win)||void 0===t?void 0:t.document.activeElement;if(e&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName||"true"===e.contentEditable))return;d.setVal(!0)}},this.id="c"+ ++c,this._win=e;const s=e.document;if(t){const e=t.triggerKeys,s=t.dismissKeys;(null==e?void 0:e.length)&&(this._triggerKeys=new Set(e)),(null==s?void 0:s.length)&&(this._dismissKeys=new Set(s))}s.addEventListener(o,this._onFocusIn,!0),s.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("keydown",this._onKeyDown,!0),function(e){const t=e;r||(r=function(e){const t=e.HTMLElement,s=t.prototype.focus;let i=!1;return t.prototype.focus=function(){i=!0},e.document.createElement("button").focus(),t.prototype.focus=s,i}(t));const s=t.HTMLElement.prototype.focus;if(s.__keyborgNativeFocus)return;t.HTMLElement.prototype.focus=a;const i=t.__keyborgData={focusInHandler:e=>{var t;const s=e.target;if(!s)return;const n=document.createEvent("HTMLEvents");n.initEvent(o,!0,!0);const a={relatedTarget:e.relatedTarget||void 0};(r||i.lastFocusedProgrammatically)&&(a.isFocusedProgrammatically=s===(null===(t=i.lastFocusedProgrammatically)||void 0===t?void 0:t.deref()),i.lastFocusedProgrammatically=void 0),n.details=a,s.dispatchEvent(n)}};function a(){const e=t.__keyborgData;return e&&(e.lastFocusedProgrammatically=new n(this)),s.apply(this,arguments)}t.document.addEventListener("focusin",t.__keyborgData.focusInHandler,!0),a.__keyborgNativeFocus=s}(e),d.add(this)}dispose(){const e=this._win;if(e){this._isMouseUsedTimer&&(e.clearTimeout(this._isMouseUsedTimer),this._isMouseUsedTimer=void 0),this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),function(e){const t=e,s=t.HTMLElement.prototype,i=s.focus.__keyborgNativeFocus,n=t.__keyborgData;n&&(t.document.removeEventListener("focusin",n.focusInHandler,!0),delete t.__keyborgData),i&&(s.focus=i)}(e);const t=e.document;t.removeEventListener(o,this._onFocusIn,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),delete this._win,d.remove(this.id)}}isDisposed(){return!!this._win}update(e){var t,s;const i=null===(s=null===(t=this._win)||void 0===t?void 0:t.__keyborg)||void 0===s?void 0:s.refs;if(i)for(const t of Object.keys(i))f.update(i[t],e)}_scheduleDismiss(){const e=this._win;if(e){this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);const t=e.document.activeElement;this._dismissTimer=e.setTimeout((()=>{this._dismissTimer=void 0;const s=e.document.activeElement;t&&s&&t===s&&d.setVal(!1)}),500)}}}class f{constructor(e,t){this._cb=[],this._id="k"+ ++c,this._win=e;const s=e.__keyborg;s?(this._core=s.core,s.refs[this._id]=this):(this._core=new h(e,t),e.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(e,t){return new f(e,t)}static dispose(e){e.dispose()}static update(e,t){e._cb.forEach((e=>e(t)))}dispose(){var e;const t=null===(e=this._win)||void 0===e?void 0:e.__keyborg;(null==t?void 0:t.refs[this._id])&&(delete t.refs[this._id],0===Object.keys(t.refs).length&&(t.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){return d.getVal()}subscribe(e){this._cb.push(e)}unsubscribe(e){const t=this._cb.indexOf(e);t>=0&&this._cb.splice(t,1)}setVal(e){d.setVal(e)}}function m(e,t){return f.create(e,t)}function _(e){f.dispose(e)}const b="2.2.0"},410142:e=>{var t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},s=0;s<10;s++)t["_"+String.fromCharCode(s)]=s;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,n){for(var o,r,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))s.call(o,c)&&(a[c]=o[c]);if(t){r=t(o);for(var u=0;u<r.length;u++)i.call(o,r[u])&&(a[r[u]]=o[r[u]])}}return a}},503001:(e,t)=>{var s=60103,i=60106,n=60107,o=60108,r=60114,a=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,m=60121,_=60122,b=60117,v=60129,g=60131;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;s=p("react.element"),i=p("react.portal"),n=p("react.fragment"),o=p("react.strict_mode"),r=p("react.profiler"),a=p("react.provider"),l=p("react.context"),c=p("react.forward_ref"),u=p("react.suspense"),d=p("react.suspense_list"),h=p("react.memo"),f=p("react.lazy"),m=p("react.block"),_=p("react.server.block"),b=p("react.fundamental"),v=p("react.debug_trace_mode"),g=p("react.legacy_hidden")}function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case n:case r:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case a:return e;default:return t}}case i:return t}}}var w=a,E=s,T=c,F=n,I=f,k=h,x=i,D=r,O=o,C=u;t.ContextConsumer=l,t.ContextProvider=w,t.Element=E,t.ForwardRef=T,t.Fragment=F,t.Lazy=I,t.Memo=k,t.Portal=x,t.Profiler=D,t.StrictMode=O,t.Suspense=C,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return y(e)===l},t.isContextProvider=function(e){return y(e)===a},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return y(e)===c},t.isFragment=function(e){return y(e)===n},t.isLazy=function(e){return y(e)===f},t.isMemo=function(e){return y(e)===h},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===r},t.isStrictMode=function(e){return y(e)===o},t.isSuspense=function(e){return y(e)===u},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===r||e===v||e===o||e===u||e===d||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===a||e.$$typeof===l||e.$$typeof===c||e.$$typeof===b||e.$$typeof===m||e[0]===_)},t.typeOf=y},437184:(e,t,s)=>{e.exports=s(503001)},741354:(e,t,s)=>{s(410142);var i=s(818319),n=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;n=o("react.element"),t.Fragment=o("react.fragment")}var r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var i,o={},c=null,u=null;for(i in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:n,type:e,key:c,ref:u,props:o,_owner:r.current}}t.jsx=c,t.jsxs=c},398769:(e,t,s)=>{e.exports=s(741354)},146933:(e,t)=>{var s,i,n,o;if("object"==typeof performance&&"function"==typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(d,0),e}};s=function(e){null!==c?setTimeout(s,0,e):(c=e,setTimeout(d,0))},i=function(e,t){u=setTimeout(e,t)},n=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,b=null,v=-1,g=5,p=0;t.unstable_shouldYield=function(){return t.unstable_now()>=p},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,w=y.port2;y.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();p=e+g;try{b(!0,e)?w.postMessage(null):(_=!1,b=null)}catch(e){throw w.postMessage(null),e}}else _=!1},s=function(e){b=e,_||(_=!0,w.postMessage(null))},i=function(e,s){v=h((function(){e(t.unstable_now())}),s)},n=function(){f(v),v=-1}}function E(e,t){var s=e.length;e.push(t);e:for(;;){var i=s-1>>>1,n=e[i];if(!(void 0!==n&&0<I(n,t)))break e;e[i]=t,e[s]=n,s=i}}function T(e){return void 0===(e=e[0])?null:e}function F(e){var t=e[0];if(void 0!==t){var s=e.pop();if(s!==t){e[0]=s;e:for(var i=0,n=e.length;i<n;){var o=2*(i+1)-1,r=e[o],a=o+1,l=e[a];if(void 0!==r&&0>I(r,s))void 0!==l&&0>I(l,r)?(e[i]=l,e[a]=s,i=a):(e[i]=r,e[o]=s,i=o);else{if(!(void 0!==l&&0>I(l,s)))break e;e[i]=l,e[a]=s,i=a}}}return t}return null}function I(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}var k=[],x=[],D=1,O=null,C=3,R=!1,N=!1,A=!1;function S(e){for(var t=T(x);null!==t;){if(null===t.callback)F(x);else{if(!(t.startTime<=e))break;F(x),t.sortIndex=t.expirationTime,E(k,t)}t=T(x)}}function M(e){if(A=!1,S(e),!N)if(null!==T(k))N=!0,s(P);else{var t=T(x);null!==t&&i(M,t.startTime-e)}}function P(e,s){N=!1,A&&(A=!1,n()),R=!0;var o=C;try{for(S(s),O=T(k);null!==O&&(!(O.expirationTime>s)||e&&!t.unstable_shouldYield());){var r=O.callback;if("function"==typeof r){O.callback=null,C=O.priorityLevel;var a=r(O.expirationTime<=s);s=t.unstable_now(),"function"==typeof a?O.callback=a:O===T(k)&&F(k),S(s)}else F(k);O=T(k)}if(null!==O)var l=!0;else{var c=T(x);null!==c&&i(M,c.startTime-s),l=!1}return l}finally{O=null,C=o,R=!1}}var L=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||R||(N=!0,s(P))},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return T(k)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var s=C;C=t;try{return e()}finally{C=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=C;C=e;try{return t()}finally{C=s}},t.unstable_scheduleCallback=function(e,o,r){var a=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:D++,callback:o,priorityLevel:e,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>a?(e.sortIndex=r,E(x,e),null===T(k)&&e===T(x)&&(A?n():A=!0,i(M,r-a))):(e.sortIndex=l,E(k,e),N||R||(N=!0,s(P))),e},t.unstable_wrapCallback=function(e){var t=C;return function(){var s=C;C=t;try{return e.apply(this,arguments)}finally{C=s}}}},407017:(e,t,s)=>{e.exports=s(146933)},362932:(e,t,s)=>{s.r(t),s.d(t,{Types:()=>w,createTabster:()=>Nt,disposeTabster:()=>Kt,forceCleanup:()=>Rt,getCrossOrigin:()=>jt,getDeloser:()=>Lt,getGroupper:()=>St,getInternal:()=>Bt,getModalizer:()=>Wt,getMover:()=>Mt,getObservedElement:()=>Ut,getOutline:()=>Pt,getRestorer:()=>zt,getTabster:()=>At,getTabsterAttribute:()=>ne,isNoOp:()=>$t,makeNoOp:()=>Ht,mergeTabsterProps:()=>oe,setTabsterAttribute:()=>re});var i=s(686956);const n="data-tabster",o="data-tabster-dummy",r="tabster:deloser",a="tabster:modalizer:active",l="tabster:modalizer:inactive",c="tabster:mover",u="tabster:focusin",d="tabster:focusout",h="tabster:movefocus",f=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]"].join(", "),m={Any:0,Accessible:1,Focusable:2},_={History:0,DeloserDefault:1,RootDefault:2,DeloserFirst:3,RootFirst:4},b={Invisible:0,PartiallyVisible:1,Visible:2},v={Source:0,Target:1},g={Both:0,Vertical:1,Horizontal:2,Grid:3,GridLinear:4},p={Unlimited:0,Limited:1,LimitedTrapFocus:2},y={Auto:0,Inside:1,Outside:2};var w=Object.freeze({__proto__:null,TabsterAttributeName:n,TabsterDummyInputAttributeName:o,DeloserEventName:r,ModalizerActiveEventName:a,ModalizerInactiveEventName:l,ModalizerFocusInEventName:"tabster:modalizer:focusin",ModalizerFocusOutEventName:"tabster:modalizer:focusout",ModalizerBeforeFocusOutEventName:"tabster:modalizer:beforefocusout",MoverEventName:c,FocusInEventName:u,FocusOutEventName:d,MoveFocusEventName:h,FocusableSelector:f,ObservedElementAccesibilities:m,RestoreFocusOrders:_,Visibilities:b,RestorerTypes:v,MoverDirections:g,GroupperTabbabilities:p,SysDummyInputsPositions:y});function E(e,t){var s;return null===(s=e.storageEntry(t))||void 0===s?void 0:s.tabster}function T(e,t,s){var i,o;const r=s||e._noop?void 0:t.getAttribute(n);let a,l=e.storageEntry(t);if(r){if(r===(null===(i=null==l?void 0:l.attr)||void 0===i?void 0:i.string))return;try{const e=JSON.parse(r);if("object"!=typeof e)throw new Error(`Value is not a JSON object, got '${r}'.`);a={string:r,object:e}}catch(e){0}}else if(!l)return;l||(l=e.storageEntry(t,!0)),l.tabster||(l.tabster={});const c=l.tabster||{},u=(null===(o=l.attr)||void 0===o?void 0:o.object)||{},d=(null==a?void 0:a.object)||{};for(const s of Object.keys(u))if(!d[s]){if("root"===s){const t=c[s];t&&e.root.onRoot(t,!0)}switch(s){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":const i=c[s];i&&(i.dispose(),delete c[s]);break;case"observed":delete c[s],e.observedElement&&e.observedElement.onObservedElementUpdate(t);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete c[s]}}for(const s of Object.keys(d)){const i=d.sys;switch(s){case"deloser":c.deloser?c.deloser.setProps(d.deloser):e.deloser&&(c.deloser=e.deloser.createDeloser(t,d.deloser));break;case"root":c.root?c.root.setProps(d.root):c.root=e.root.createRoot(t,d.root,i),e.root.onRoot(c.root);break;case"modalizer":c.modalizer?c.modalizer.setProps(d.modalizer):e.modalizer&&(c.modalizer=e.modalizer.createModalizer(t,d.modalizer,i));break;case"restorer":c.restorer?c.restorer.setProps(d.restorer):e.restorer&&d.restorer&&(c.restorer=e.restorer.createRestorer(t,d.restorer));break;case"focusable":c.focusable=d.focusable;break;case"groupper":c.groupper?c.groupper.setProps(d.groupper):e.groupper&&(c.groupper=e.groupper.createGroupper(t,d.groupper,i));break;case"mover":c.mover?c.mover.setProps(d.mover):e.mover&&(c.mover=e.mover.createMover(t,d.mover,i));break;case"observed":e.observedElement&&(c.observed=d.observed,e.observedElement.onObservedElementUpdate(t));break;case"uncontrolled":c.uncontrolled=d.uncontrolled;break;case"outline":e.outline&&(c.outline=d.outline);break;case"sys":c.sys=d.sys;break;default:console.error(`Unknown key '${s}' in data-tabster attribute value.`)}}a?l.attr=a:(0===Object.keys(c).length&&(delete l.tabster,delete l.attr),e.storageEntry(t,!1))}let F;const I="undefined"!=typeof DOMRect?DOMRect:class{constructor(e,t,s,i){this.left=e||0,this.top=t||0,this.right=(e||0)+(s||0),this.bottom=(t||0)+(i||0)}};let k=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),F=!1}catch(e){F=!0}function x(e){const t=e();let s=t.__tabsterInstanceContext;return s||(s={elementByUId:{},basics:{Promise:t.Promise||void 0,WeakRef:t.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},t.__tabsterInstanceContext=s),s}class D{constructor(e){this._target=e}deref(){return this._target}static cleanup(e,t){return!e._target||!(!t&&B(e._target.ownerDocument,e._target))&&(delete e._target,!0)}}class O{constructor(e,t,s){const i=x(e);let n;i.WeakRef?n=new i.WeakRef(t):(n=new D(t),i.fakeWeakRefs.push(n)),this._ref=n,this._data=s}get(){const e=this._ref;let t;return e&&(t=e.deref(),t||delete this._ref),t}getData(){return this._data}}function C(e,t){const s=x(e);s.fakeWeakRefs=s.fakeWeakRefs.filter((e=>!D.cleanup(e,t)))}function R(e){const t=x(e);t.fakeWeakRefsStarted||(t.fakeWeakRefsStarted=!0,t.WeakRef=function(e){return e.basics.WeakRef}(t)),t.fakeWeakRefsTimer||(t.fakeWeakRefsTimer=e().setTimeout((()=>{t.fakeWeakRefsTimer=void 0,C(e),R(e)}),12e4))}function N(e,t,s){if(t.nodeType!==Node.ELEMENT_NODE)return;const i=F?s:{acceptNode:s};return e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,i,!1)}function A(e,t){let s=t.__tabsterCacheId;const i=x(e),n=s?i.containerBoundingRectCache[s]:void 0;if(n)return n.rect;const o=t.ownerDocument&&t.ownerDocument.documentElement;if(!o)return new I;let r=0,a=0,l=o.clientWidth,c=o.clientHeight;if(t!==o){const e=t.getBoundingClientRect();r=Math.max(r,e.left),a=Math.max(a,e.top),l=Math.min(l,e.right),c=Math.min(c,e.bottom)}const u=new I(r<l?r:-1,a<c?a:-1,r<l?l-r:0,a<c?c-a:0);return s||(s="r-"+ ++i.lastContainerBoundingRectCacheId,t.__tabsterCacheId=s),i.containerBoundingRectCache[s]={rect:u,element:t},i.containerBoundingRectCacheTimer||(i.containerBoundingRectCacheTimer=window.setTimeout((()=>{i.containerBoundingRectCacheTimer=void 0;for(const e of Object.keys(i.containerBoundingRectCache))delete i.containerBoundingRectCache[e].element.__tabsterCacheId;i.containerBoundingRectCache={}}),50)),u}function S(e,t,s){const i=M(t);if(!i)return!1;const n=A(e,i),o=t.getBoundingClientRect(),r=o.height*(1-s),a=Math.max(0,n.top-o.top)+Math.max(0,o.bottom-n.bottom);return 0===a||a<=r}function M(e){const t=e.ownerDocument;if(t){for(let t=e.parentElement;t;t=t.parentElement)if(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)return t;return t.documentElement}return null}function P(e){return!!e.__shouldIgnoreFocus}function L(e){const t=new Uint32Array(4);if(e.crypto&&e.crypto.getRandomValues)e.crypto.getRandomValues(t);else if(e.msCrypto&&e.msCrypto.getRandomValues)e.msCrypto.getRandomValues(t);else for(let e=0;e<t.length;e++)t[e]=4294967295*Math.random();const s=[];for(let e=0;e<t.length;e++)s.push(t[e].toString(36));return s.push("|"),s.push((++k).toString(36)),s.push("|"),s.push(Date.now().toString(36)),s.join("")}function W(e,t){const s=x(e);let i=t.__tabsterElementUID;return i||(i=t.__tabsterElementUID=L(e())),!s.elementByUId[i]&&B(t.ownerDocument,t)&&(s.elementByUId[i]=new O(e,t)),i}function U(e){let t=e.__tabsterCrossOriginWindowUID;return t||(t=e.__tabsterCrossOriginWindowUID=L(e)),t}function j(e,t){const s=x(e);for(const e of Object.keys(s.elementByUId)){const i=s.elementByUId[e],n=i&&i.get();n&&t&&!t.contains(n)||delete s.elementByUId[e]}}function B(e,t){var s;return!!(null===(s=null==e?void 0:e.body)||void 0===s?void 0:s.contains(t))}function z(e,t){const s=e.matches||e.matchesSelector||e.msMatchesSelector||e.webkitMatchesSelector;return s&&s.call(e,t)}function K(e){const t=x(e);if(t.basics.Promise)return t.basics.Promise;throw new Error("No Promise defined.")}let V=0;class H{constructor(e,t,s){const i=e.getWindow;this._tabster=e,this._element=new O(i,t),this._props={...s},this.id="i"+ ++V}getElement(){return this._element.get()}getProps(){return this._props}setProps(e){this._props={...e}}}class ${constructor(e,t,s,n,r){var a;this._focusIn=e=>{if(this._fixedTarget){const e=this._fixedTarget.get();return void(e&&(0,i.nativeFocus)(e))}const t=this.input;if(this.onFocusIn&&t){const s=e.relatedTarget;this.onFocusIn(this,this._isBackward(!0,t,s),s)}},this._focusOut=e=>{if(this._fixedTarget)return;this.useDefaultAction=!1;const t=this.input;if(this.onFocusOut&&t){const s=e.relatedTarget;this.onFocusOut(this,this._isBackward(!1,t,s),s)}};const l=e(),c=l.document.createElement("i");c.tabIndex=0,c.setAttribute("role","none"),c.setAttribute(o,""),c.setAttribute("aria-hidden","true");const u=c.style;u.position="fixed",u.width=u.height="1px",u.opacity="0.001",u.zIndex="-1",u.setProperty("content-visibility","hidden"),function(e){e.__shouldIgnoreFocus=!0}(c),this.input=c,this.isFirst=s.isFirst,this.isOutside=t,this._isPhantom=null!==(a=s.isPhantom)&&void 0!==a&&a,this._fixedTarget=r,c.addEventListener("focusin",this._focusIn),c.addEventListener("focusout",this._focusOut),c.__tabsterDummyContainer=n,this._isPhantom&&(this._disposeTimer=l.setTimeout((()=>{delete this._disposeTimer,this.dispose()}),0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(l.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();const t=this.input;t&&(delete this._fixedTarget,delete this.onFocusIn,delete this.onFocusOut,delete this.input,t.removeEventListener("focusin",this._focusIn),t.removeEventListener("focusout",this._focusOut),delete t.__tabsterDummyContainer,null===(e=t.parentElement)||void 0===e||e.removeChild(t))}setTopLeft(e,t){var s;const i=null===(s=this.input)||void 0===s?void 0:s.style;i&&(i.top=`${e}px`,i.left=`${t}px`)}_isBackward(e,t,s){return e&&!s?!this.isFirst:!!(s&&t.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING)}}const q=1,Q=2,J=3,G=4;class Y{constructor(e,t,s,i,n,o){this._element=t,this._instance=new Z(e,t,this,s,i,n,o)}_setHandlers(e,t){this._onFocusIn=e,this._onFocusOut=t}moveOut(e){var t;null===(t=this._instance)||void 0===t||t.moveOut(e)}moveOutWithDefaultAction(e,t){var s;null===(s=this._instance)||void 0===s||s.moveOutWithDefaultAction(e,t)}getHandler(e){return e?this._onFocusIn:this._onFocusOut}setTabbable(e){var t;null===(t=this._instance)||void 0===t||t.setTabbable(this,e)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static moveWithPhantomDummy(e,t,s,n,o){var r;const a=new $(e.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(a){let l,c;if("BODY"===t.tagName)l=t,c=s&&n||!s&&!n?t.firstElementChild:null;else{let i,o;s&&(!n||n&&!e.focusable.isFocusable(t,!1,!0,!0))?(l=t,c=n?t.firstElementChild:null):(l=t.parentElement,c=s&&n||!s&&!n?t:t.nextElementSibling);do{i=s&&n||!s&&!n?null==c?void 0:c.previousElementSibling:c,o=null===(r=null==i?void 0:i.__tabsterDummyContainer)||void 0===r?void 0:r.get(),o===t?c=s&&n||!s&&!n?i:null==i?void 0:i.nextElementSibling:o=void 0}while(o)}l&&se({by:"root",owner:l,next:null,relatedEvent:o})&&(l.insertBefore(a,c),(0,i.nativeFocus)(a))}}static addPhantomDummyWithTarget(e,t,s,i){const n=new $(e.getWindow,!0,{isPhantom:!0,isFirst:!0},void 0,new O(e.getWindow,i)).input;if(n){let e,i;t.querySelector(f)&&!s?(e=t,i=t.firstElementChild):(e=t.parentElement,i=s?t:t.nextElementSibling),null==e||e.insertBefore(n,i)}}}class X{constructor(e){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=e=>{var t;this._changedParents.has(e)||(this._changedParents.add(e),this._updateDummyInputsTimer||(this._updateDummyInputsTimer=null===(t=this._win)||void 0===t?void 0:t.call(this).setTimeout((()=>{delete this._updateDummyInputsTimer;for(const e of this._dummyElements){const t=e.get();if(t){const e=this._dummyCallbacks.get(t);if(e){const s=t.parentElement;s&&!this._changedParents.has(s)||e()}}}this._changedParents=new WeakSet}),100)))},this._win=e}add(e,t){!this._dummyCallbacks.has(e)&&this._win&&(this._dummyElements.push(new O(this._win,e)),this._dummyCallbacks.set(e,t),this.domChanged=this._domChanged)}remove(e){this._dummyElements=this._dummyElements.filter((t=>{const s=t.get();return s&&s!==e})),this._dummyCallbacks.delete(e),0===this._dummyElements.length&&delete this.domChanged}dispose(){var e;const t=null===(e=this._win)||void 0===e?void 0:e.call(this);this._updateTimer&&(null==t||t.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(null==t||t.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}updatePositions(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var e;this._updateTimer||(this._updateTimer=null===(e=this._win)||void 0===e?void 0:e.call(this).setTimeout((()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+100<=Date.now()){const e=new Map,t=[];for(const s of this._updateQueue)t.push(s(e));this._updateQueue.clear();for(const e of t)e();e.clear()}else this._scheduledUpdatePositions()}),100))}}class Z{constructor(e,t,s,n,o,r,a){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(e,t,s)=>{this._onFocus(!0,e,t,s)},this._onFocusOut=(e,t,s)=>{this._onFocus(!1,e,t,s)},this.moveOut=e=>{var t;const s=this._firstDummy,n=this._lastDummy;if(s&&n){this._ensurePosition();const o=s.input,r=n.input,a=null===(t=this._element)||void 0===t?void 0:t.get();if(o&&r&&a){let t;e?(o.tabIndex=0,t=o):(r.tabIndex=0,t=r),t&&(0,i.nativeFocus)(t)}}},this.moveOutWithDefaultAction=(e,t)=>{var s;const n=this._firstDummy,o=this._lastDummy;if(n&&o){this._ensurePosition();const r=n.input,a=o.input,l=null===(s=this._element)||void 0===s?void 0:s.get();if(r&&a&&l){let s;e?!n.isOutside&&this._tabster.focusable.isFocusable(l,!0,!0,!0)?s=l:(n.useDefaultAction=!0,r.tabIndex=0,s=r):(o.useDefaultAction=!0,a.tabIndex=0,s=a),s&&se({by:"root",owner:l,next:null,relatedEvent:t})&&(0,i.nativeFocus)(s)}}},this.setTabbable=(e,t)=>{var s,i;for(const s of this._wrappers)if(s.manager===e){s.tabbable=t;break}const n=this._getCurrent();if(n){const e=n.tabbable?0:-1;let t=null===(s=this._firstDummy)||void 0===s?void 0:s.input;t&&(t.tabIndex=e),t=null===(i=this._lastDummy)||void 0===i?void 0:i.input,t&&(t.tabIndex=e)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout((()=>{delete this._addTimer,this._ensurePosition(),this._addTransformOffsets()}),0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=e=>{var t,s;const i=(null===(t=this._firstDummy)||void 0===t?void 0:t.input)||(null===(s=this._lastDummy)||void 0===s?void 0:s.input),n=this._transformElements,o=new Set;let r=0,a=0;const l=this._getWindow();for(let t=i;t&&t.nodeType===Node.ELEMENT_NODE;t=t.parentElement){let s=e.get(t);if(void 0===s){const i=l.getComputedStyle(t).transform;i&&"none"!==i&&(s={scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),e.set(t,s||null)}s&&(o.add(t),n.has(t)||t.addEventListener("scroll",this._addTransformOffsets),r+=s.scrollTop,a+=s.scrollLeft)}for(const e of n)o.has(e)||e.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=o,()=>{var e,t;null===(e=this._firstDummy)||void 0===e||e.setTopLeft(r,a),null===(t=this._lastDummy)||void 0===t||t.setTopLeft(r,a)}};const l=t.get();if(!l)throw new Error("No element");this._tabster=e,this._getWindow=e.getWindow,this._callForDefaultAction=a;const c=l.__tabsterDummy;if((c||this)._wrappers.push({manager:s,priority:n,tabbable:!0}),c)return c;l.__tabsterDummy=this;const u=null==o?void 0:o.dummyInputsPosition,d=l.tagName;this._isOutside=u?u===y.Outside:(r||"UL"===d||"OL"===d||"TABLE"===d)&&!("LI"===d||"TD"===d||"TH"===d),this._firstDummy=new $(this._getWindow,this._isOutside,{isFirst:!0},t),this._lastDummy=new $(this._getWindow,this._isOutside,{isFirst:!1},t);const h=this._firstDummy.input;h&&e._dummyObserver.add(h,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=t,this._addDummyInputs()}dispose(e,t){var s,i,n,o;if(0===(this._wrappers=this._wrappers.filter((s=>s.manager!==e&&!t))).length){delete(null===(s=this._element)||void 0===s?void 0:s.get()).__tabsterDummy;for(const e of this._transformElements)e.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();const e=this._getWindow();this._addTimer&&(e.clearTimeout(this._addTimer),delete this._addTimer);const t=null===(i=this._firstDummy)||void 0===i?void 0:i.input;t&&this._tabster._dummyObserver.remove(t),null===(n=this._firstDummy)||void 0===n||n.dispose(),null===(o=this._lastDummy)||void 0===o||o.dispose()}}_onFocus(e,t,s,i){var n;const o=this._getCurrent();!o||t.useDefaultAction&&!this._callForDefaultAction||null===(n=o.manager.getHandler(e))||void 0===n||n(t,s,i)}_getCurrent(){return this._wrappers.sort(((e,t)=>e.tabbable!==t.tabbable?e.tabbable?-1:1:e.priority-t.priority)),this._wrappers[0]}_ensurePosition(){var e,t,s;const i=null===(e=this._element)||void 0===e?void 0:e.get(),n=null===(t=this._firstDummy)||void 0===t?void 0:t.input,o=null===(s=this._lastDummy)||void 0===s?void 0:s.input;if(i&&n&&o)if(this._isOutside){const e=i.parentElement;if(e){const t=i.nextElementSibling;t!==o&&e.insertBefore(o,t),i.previousElementSibling!==n&&e.insertBefore(n,i)}}else{i.lastElementChild!==o&&i.appendChild(o);const e=i.firstElementChild;e&&e!==n&&i.insertBefore(n,e)}}}function ee(e){let t=null;for(let s=e.lastElementChild;s;s=s.lastElementChild)t=s;return t||void 0}function te(e,t,s){const i=document.createEvent("HTMLEvents");return i.initEvent(t,!0,!0),i.details=s,e.dispatchEvent(i),!i.defaultPrevented}function se(e){return te(e.owner,h,e)}function ie(e,t,s,i){const n=e.storageEntry(t,!0);let o=!1;if(!n.aug){if(void 0===i)return o;n.aug={}}if(void 0===i){if(s in n.aug){const e=n.aug[s];delete n.aug[s],null===e?t.removeAttribute(s):t.setAttribute(s,e),o=!0}}else{let e;s in n.aug||(e=t.getAttribute(s)),void 0!==e&&e!==i&&(n.aug[s]=e,null===i?t.removeAttribute(s):t.setAttribute(s,i),o=!0)}return void 0===i&&0===Object.keys(n.aug).length&&(delete n.aug,e.storageEntry(t,!1)),o}function ne(e,t){const s=JSON.stringify(e);return!0===t?s:{[n]:s}}function oe(e,t){for(const s of Object.keys(t)){const i=t[s];i?e[s]=i:delete e[s]}}function re(e,t,s){let i;if(s){const t=e.getAttribute(n);if(t)try{i=JSON.parse(t)}catch(e){0}}i||(i={}),oe(i,t),Object.keys(i).length>0?e.setAttribute(n,ne(i,!0)):e.removeAttribute(n)}class ae extends Y{constructor(e,t,s,n){super(e,t,q,n,void 0,!0),this._onDummyInputFocus=e=>{var t;if(e.useDefaultAction)this._setFocused(!1);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);const s=this._element.get();if(s){this._setFocused(!0);const t=this._tabster.focusedElement.getFirstOrLastTabbable(e.isFirst,{container:s,ignoreAccessibility:!0});if(t)return void(0,i.nativeFocus)(t)}null===(t=e.input)||void 0===t||t.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=e,this._setFocused=s}}class le extends H{constructor(e,t,s,i,n){super(e,t,i),this._isFocused=!1,this._setFocused=e=>{var t;if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused===e)return;const s=this._element.get();s&&(e?(this._isFocused=!0,null===(t=this._dummyManager)||void 0===t||t.setTabbable(!1),te(this._tabster.root.eventTarget,"focus",{element:s})):this._setFocusedTimer=this._tabster.getWindow().setTimeout((()=>{var e;delete this._setFocusedTimer,this._isFocused=!1,null===(e=this._dummyManager)||void 0===e||e.setTabbable(!0),te(this._tabster.root.eventTarget,"blur",{element:s})}),0))},this._onFocusIn=e=>{const t=this._tabster.getParent,s=this._element.get();let i=e.target;do{if(i===s)return void this._setFocused(!0);i=i&&t(i)}while(i)},this._onFocusOut=()=>{this._setFocused(!1)},this._onDispose=s;const o=e.getWindow;this.uid=W(o,t),this._sys=n,(e.controlTab||e.rootDummyInputs)&&this.addDummyInputs();const r=o();r.document.addEventListener("focusin",this._onFocusIn),r.document.addEventListener("focusout",this._onFocusOut),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new ae(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var e;this._onDispose(this);const t=this._tabster.getWindow();t.document.removeEventListener("focusin",this._onFocusIn),t.document.removeEventListener("focusout",this._onFocusOut),this._setFocusedTimer&&(t.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),null===(e=this._dummyManager)||void 0===e||e.dispose(),this._remove()}moveOutWithDefaultAction(e,t){const s=this._dummyManager;if(s)s.moveOutWithDefaultAction(e,t);else{const s=this.getElement();s&&ae.moveWithPhantomDummy(this._tabster,s,!0,e,t)}}_add(){0}_remove(){0}}class ce{constructor(e,t){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var e;const t=this._win().document,s=t.body;if(s){this._autoRootUnwait(t);const i=this._autoRoot;if(i)return re(s,{root:i},!0),T(this._tabster,s),null===(e=E(this._tabster,s))||void 0===e?void 0:e.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,t.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=e=>{delete this._roots[e.id]},this._tabster=e,this._win=e.getWindow,this._autoRoot=t,this.eventTarget=function(e){const t=e();try{if(t.EventTarget)return new t.EventTarget}catch(e){if(!(e instanceof TypeError))throw e}return t.document.createElement("div")}(this._win),e.queueInit((()=>{this._autoRoot&&this._autoRootCreate()}))}_autoRootUnwait(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){const e=this._win();this._autoRootUnwait(e.document),delete this._autoRoot,Object.keys(this._roots).forEach((e=>{this._roots[e]&&(this._roots[e].dispose(),delete this._roots[e])})),this.rootById={}}createRoot(e,t,s){const i=new le(this._tabster,e,this._onRootDispose,t,s);return this._roots[i.id]=i,this._forceDummy&&i.addDummyInputs(),i}addDummyInputs(){this._forceDummy=!0;const e=this._roots;for(const t of Object.keys(e))e[t].addDummyInputs()}static getRootByUId(e,t){const s=e().__tabsterInstance;return s&&s.root.rootById[t]}static getTabsterContext(e,t,s){var i,n,o,r;if(void 0===s&&(s={}),!t.ownerDocument)return;const{checkRtl:a,referenceElement:l}=s,c=e.getParent;let u,d,h,f;e.drainInitQueue();let m,_,b,v,g=!1,p=l||t;const y={};for(;p&&(!u||a);){const s=E(e,p);if(a&&void 0===b){const e=p.dir;e&&(b="rtl"===e.toLowerCase())}if(!s){p=c(p);continue}const r=p.tagName;(s.uncontrolled||"IFRAME"===r||"WEBVIEW"===r)&&(v=p),f||!(null===(i=s.focusable)||void 0===i?void 0:i.excludeFromMover)||h||(g=!0);const l=s.modalizer,w=s.groupper,T=s.mover;!d&&l&&(d=l),h||!w||d&&!l||(d?(!w.isActive()&&w.getProps().tabbability&&d.userId!==(null===(n=e.modalizer)||void 0===n?void 0:n.activeId)&&(d=void 0,h=w),_=w):h=w),f||!T||d&&!l||w&&p===t||(f=T,m=!!h&&h!==w),s.root&&(u=s.root),(null===(o=s.focusable)||void 0===o?void 0:o.ignoreKeydown)&&Object.assign(y,s.focusable.ignoreKeydown),p=c(p)}if(!u){const s=e.root;s._autoRoot&&(null===(r=t.ownerDocument)||void 0===r?void 0:r.body)&&(u=s._autoRootCreate())}h&&!f&&(m=!0);return u?{root:u,modalizer:d,groupper:h,mover:f,groupperBeforeMover:m,modalizerInGroupper:_,rtl:a?!!b:void 0,uncontrolled:v,excludedFromMover:g,ignoreKeydown:e=>!!y[e.key]}:void 0}static getRoot(e,t){var s;const i=e.getParent;for(let n=t;n;n=i(n)){const t=null===(s=E(e,n))||void 0===s?void 0:s.root;if(t)return t}}onRoot(e,t){t?delete this.rootById[e.uid]:this.rootById[e.uid]=e}}class ue{}class de extends(613666==s.j?ue:null){constructor(e,t){super(),this.uid=t.uid,this._tabster=e,this._deloser=t}belongsTo(e){return e===this._deloser}unshift(e){this._deloser.unshift(e)}async focusAvailable(){const e=this._deloser.findAvailable();return!!e&&this._tabster.focusedElement.focus(e)}async resetFocus(){return K(this._tabster.getWindow).resolve(this._deloser.resetFocus())}}class he{constructor(e,t){this._history=[],this._tabster=e,this.rootUId=t}getLength(){return this._history.length}removeDeloser(e){this._history=this._history.filter((t=>!t.belongsTo(e)))}hasDeloser(e){return this._history.some((t=>t.belongsTo(e)))}}class fe extends(613666==s.j?he:null){unshiftToDeloser(e,t){let s;for(let t=0;t<this._history.length;t++)if(this._history[t].belongsTo(e)){s=this._history[t],this._history.splice(t,1);break}s||(s=new de(this._tabster,e)),s.unshift(t),this._history.unshift(s),this._history.splice(10,this._history.length-10)}async focusAvailable(e){let t=!!e;for(const s of this._history)if(e&&s.belongsTo(e)&&(t=!1),!t&&await s.focusAvailable())return!0;return!1}async resetFocus(e){let t=!!e;const s={};for(const i of this._history)e&&i.belongsTo(e)&&(t=!1),t||s[i.uid]||(s[i.uid]=i);for(const e of Object.keys(s))if(await s[e].resetFocus())return!0;return!1}}class me{constructor(e){this._history=[],this._tabster=e}dispose(){this._history=[]}process(e){var t;const s=ce.getTabsterContext(this._tabster,e),i=s&&s.root.uid,n=ve.getDeloser(this._tabster,e);if(!i||!n)return;const o=this.make(i,(()=>new fe(this._tabster,i)));return s&&s.modalizer&&!(null===(t=s.modalizer)||void 0===t?void 0:t.isActive())||o.unshiftToDeloser(n,e),n}make(e,t){let s;for(let t=0;t<this._history.length;t++){const i=this._history[t];if(i.rootUId===e){s=i,this._history.splice(t,1);break}}return s||(s=t()),this._history.unshift(s),this._history.splice(10,this._history.length-10),s}removeDeloser(e){this._history.forEach((t=>{t.removeDeloser(e)})),this._history=this._history.filter((e=>e.getLength()>0))}async focusAvailable(e){let t=!!e;for(const s of this._history)if(e&&s.hasDeloser(e)&&(t=!1),!t&&await s.focusAvailable(e))return!0;return!1}async resetFocus(e){let t=!!e;for(const s of this._history)if(e&&s.hasDeloser(e)&&(t=!1),!t&&await s.resetFocus(e))return!0;return!1}}function _e(e,t,s){const i=[],n=/(:|\.|\[|\]|,|=|@)/g,o=e.getAttribute("id");o&&i.push("#"+o.replace(n,"\\$1")),!1!==t&&e.className&&e.className.split(" ").forEach((e=>{(e=e.trim())&&i.push("."+e.replace(n,"\\$1"))}));let r,a=0;if(!1!==s&&0===i.length){for(r=e;r;)a++,r=r.previousElementSibling;i.unshift(":nth-child("+a+")")}return i.unshift(e.tagName.toLowerCase()),i.join("")}class be extends(613666==s.j?H:null){constructor(e,t,s,i){super(e,t,i),this._isActive=!1,this._history=[[]],this._snapshotIndex=0,this.isActive=()=>this._isActive,this.setSnapshot=e=>{this._snapshotIndex=e,this._history.length>e+1&&this._history.splice(e+1,this._history.length-e-1),this._history[e]||(this._history[e]=[])},this.focusFirst=()=>{const e=this._element.get();return!!e&&this._tabster.focusedElement.focusFirst({container:e})},this.focusDefault=()=>{const e=this._element.get();return!!e&&this._tabster.focusedElement.focusDefault(e)},this.resetFocus=()=>{const e=this._element.get();return!!e&&this._tabster.focusedElement.resetFocus(e)},this.clearHistory=e=>{const t=this._element.get();this._history[this._snapshotIndex]=t?this._history[this._snapshotIndex].filter((s=>{const i=s.get();return!(!i||!e)&&t.contains(i)})):[]},this.uid=W(e.getWindow,t),this._onDispose=s}dispose(){this._remove(),this._onDispose(this),this._isActive=!1,this._snapshotIndex=0,this._props={},this._history=[]}setActive(e){this._isActive=e}getActions(){return{focusDefault:this.focusDefault,focusFirst:this.focusFirst,resetFocus:this.resetFocus,clearHistory:this.clearHistory,setSnapshot:this.setSnapshot,isActive:this.isActive}}unshift(e){let t=this._history[this._snapshotIndex];for(t=this._history[this._snapshotIndex]=t.filter((t=>{const s=t.get();return s&&s!==e})),t.unshift(new O(this._tabster.getWindow,e,function(e){if(!B(e.ownerDocument,e))return;const t=[_e(e)];let s=e.parentElement;for(;s;){const e="BODY"===s.tagName;if(t.unshift(_e(s,!1,!e)),e)break;s=s.parentElement}return t.join(" ")}(e)));t.length>10;)t.pop()}findAvailable(){const e=this._element.get();if(!e||!this._tabster.focusable.isVisible(e))return null;let t=this._props.restoreFocusOrder,s=null;const i=ce.getTabsterContext(this._tabster,e);if(!i)return null;const n=i.root,o=n.getElement();if(!o)return null;if(void 0===t&&(t=n.getProps().restoreFocusOrder),t===_.RootDefault&&(s=this._tabster.focusable.findDefault({container:o})),s||t!==_.RootFirst||(s=this._findFirst(o)),s)return s;const r=this._findInHistory(),a=this._tabster.focusable.findDefault({container:e}),l=this._findFirst(e);return r&&t===_.History?r:a&&t===_.DeloserDefault?a:l&&t===_.DeloserFirst?l:a||r||l||null}customFocusLostHandler(e){return te(e,r,this.getActions())}_findInHistory(){const e=this._history[this._snapshotIndex].slice(0);this.clearHistory(!0);for(let t=0;t<e.length;t++){const s=e[t],i=s.get(),n=this._element.get();if(i&&n&&n.contains(i)){if(this._tabster.focusable.isFocusable(i))return i}else if(!this._props.noSelectorCheck){const e=s.getData();if(e&&n){let t;try{t=n.ownerDocument.querySelectorAll(e)}catch(e){0;continue}for(let e=0;e<t.length;e++){const s=t[e];if(s&&this._tabster.focusable.isFocusable(s))return s}}}}return null}_findFirst(e){if(this._tabster.keyboardNavigation.isNavigatingWithKeyboard()){const t=this._tabster.focusable.findFirst({container:e,useActiveModalizer:!0});if(t)return t}return null}_remove(){0}}class ve{constructor(e,t){this._inDeloser=!1,this._isRestoringFocus=!1,this._isPaused=!1,this._onFocus=e=>{if(this._restoreFocusTimer&&(this._win().clearTimeout(this._restoreFocusTimer),this._restoreFocusTimer=void 0),!e)return void this._scheduleRestoreFocus();const t=this._history.process(e);t?this._activate(t):this._deactivate()},this._onDeloserDispose=e=>{this._history.removeDeloser(e),e.isActive()&&this._scheduleRestoreFocus()},this._tabster=e,this._win=e.getWindow,this._history=new me(e),e.queueInit((()=>{this._tabster.focusedElement.subscribe(this._onFocus);const e=this._win().document,t=e.activeElement;t&&t!==e.body&&this._onFocus(t)}));const s=null==t?void 0:t.autoDeloser;s&&(this._autoDeloser=s)}dispose(){const e=this._win();this._restoreFocusTimer&&(e.clearTimeout(this._restoreFocusTimer),this._restoreFocusTimer=void 0),this._autoDeloserInstance&&(this._autoDeloserInstance.dispose(),delete this._autoDeloserInstance,delete this._autoDeloser),this._tabster.focusedElement.unsubscribe(this._onFocus),this._history.dispose(),delete this._curDeloser}createDeloser(e,t){var s;const i=new be(this._tabster,e,this._onDeloserDispose,t);return e.contains(null!==(s=this._tabster.focusedElement.getFocusedElement())&&void 0!==s?s:null)&&this._activate(i),i}getActions(e){for(let t=e;t;t=t.parentElement){const e=E(this._tabster,t);if(e&&e.deloser)return e.deloser.getActions()}}pause(){this._isPaused=!0,this._restoreFocusTimer&&(this._win().clearTimeout(this._restoreFocusTimer),this._restoreFocusTimer=void 0)}resume(e){this._isPaused=!1,e&&this._scheduleRestoreFocus()}_activate(e){const t=this._curDeloser;t!==e&&(this._inDeloser=!0,null==t||t.setActive(!1),e.setActive(!0),this._curDeloser=e)}_deactivate(){var e;this._inDeloser=!1,null===(e=this._curDeloser)||void 0===e||e.setActive(!1),this._curDeloser=void 0}_scheduleRestoreFocus(e){if(this._isPaused||this._isRestoringFocus)return;const t=async()=>{this._restoreFocusTimer=void 0;const t=this._tabster.focusedElement.getLastFocusedElement();if(!e&&(this._isRestoringFocus||!this._inDeloser||(null==t?void 0:t.offsetParent)))return;const s=this._curDeloser;if(s){if(t&&s.customFocusLostHandler(t))return;const e=s.findAvailable();if(e&&this._tabster.focusedElement.focus(e))return}this._deactivate(),this._isRestoringFocus=!0,await this._history.focusAvailable(null)||await this._history.resetFocus(null),this._isRestoringFocus=!1};e?t():this._restoreFocusTimer=this._win().setTimeout(t,100)}static getDeloser(e,t){var s;let i;for(let s=t;s;s=s.parentElement){const t=E(e,s);if(t){i||(i=t.root);const e=t.deloser;if(e)return e}}const n=e.deloser&&e.deloser;if(n){if(n._autoDeloserInstance)return n._autoDeloserInstance;const o=n._autoDeloser;if(i&&!n._autoDeloserInstance&&o){const i=null===(s=t.ownerDocument)||void 0===s?void 0:s.body;i&&(n._autoDeloserInstance=new be(e,i,e.deloser._onDeloserDispose,o))}return n._autoDeloserInstance}}static getHistory(e){return e._history}static forceRestoreFocus(e){e._scheduleRestoreFocus(!0)}}class ge{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(e){const t=this._callbacks;t.indexOf(e)<0&&t.push(e)}subscribeFirst(e){const t=this._callbacks,s=t.indexOf(e);s>=0&&t.splice(s,1),t.unshift(e)}unsubscribe(e){const t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)}setVal(e,t){this._val!==e&&(this._val=e,this._callCallbacks(e,t))}getVal(){return this._val}trigger(e,t){this._callCallbacks(e,t)}_callCallbacks(e,t){this._callbacks.forEach((s=>s(e,t)))}}const pe="up",ye=1,we=2,Ee=3,Te=4,Fe=5,Ie=6;class ke extends(613666==s.j?ue:null){constructor(e,t,s){super(),this._deloser=t,this._transactions=s}belongsTo(e){return e.deloserUId===this._deloser.deloserUId}async focusAvailable(){const e={...this._deloser,reset:!1};return this._transactions.beginTransaction(Ue,e).then((e=>!!e))}async resetFocus(){const e={...this._deloser,reset:!0};return this._transactions.beginTransaction(Ue,e).then((e=>!!e))}}class xe extends(613666==s.j?he:null){constructor(e,t,s){super(e,t),this._transactions=s}unshift(e){let t;for(let s=0;s<this._history.length;s++)if(this._history[s].belongsTo(e)){t=this._history[s],this._history.splice(s,1);break}t||(t=new ke(this._tabster,e,this._transactions)),this._history.unshift(t),this._history.splice(10,this._history.length-10)}async focusAvailable(){for(const e of this._history)if(await e.focusAvailable())return!0;return!1}async resetFocus(){for(const e of this._history)if(await e.resetFocus())return!0;return!1}}class De{constructor(e,t,s,i,n,o,r,a){this._inProgress={},this._isDone=!1,this._isSelfResponding=!1,this._sentCount=0,this.tabster=e,this.owner=t,this.ownerId=U(t()),this.id=L(t()),this.beginData=i,this._knownTargets=s,this._sentTo=o||{[this.ownerId]:!0},this.targetId=r,this.sendUp=a,this.timeout=n,this._promise=new(K(t))(((e,t)=>{this._resolve=e,this._reject=t}))}getTargets(e){return this.targetId===pe?this.sendUp?{[pe]:{send:this.sendUp}}:null:this.targetId?e[this.targetId]?{[this.targetId]:{send:e[this.targetId].send}}:null:0===Object.keys(e).length&&this.sendUp?{[pe]:{send:this.sendUp}}:Object.keys(e).length>0?e:null}begin(e){const t=this.getTargets(this._knownTargets),s={...this._sentTo};if(t)for(const e of Object.keys(t))s[e]=!0;const i={transaction:this.id,type:this.type,isResponse:!1,timestamp:Date.now(),owner:this.ownerId,sentto:s,timeout:this.timeout,beginData:this.beginData};if(this.targetId&&(i.target=this.targetId),e&&(this._isSelfResponding=!0,e(i).then((e=>{this._isSelfResponding=!1,void 0!==e&&(this.endData||(this.endData=e)),(this.endData||0===this._sentCount)&&this.end()}))),t)for(const e of Object.keys(t))e in this._sentTo||this._send(t[e].send,e,i);return 0!==this._sentCount||this._isSelfResponding||this.end(),this._promise}_send(e,t,s){void 0===this._inProgress[t]&&(this._inProgress[t]=!0,this._sentCount++,e(s))}end(e){this._isDone||(this._isDone=!0,void 0===this.endData&&e?this._reject&&this._reject(e):this._resolve&&this._resolve(this.endData))}onResponse(e){const t=e.endData;void 0===t||this.endData||(this.endData=t);const s=e.target===pe?pe:e.owner;this._inProgress[s]&&(this._inProgress[s]=!1,this._sentCount--,(this.endData||0===this._sentCount&&!this._isSelfResponding)&&this.end())}}class Oe extends(613666==s.j?De:null){constructor(){super(...arguments),this.type=ye}static shouldForward(){return!1}static async makeResponse(e){return{isNavigatingWithKeyboard:e.keyboardNavigation.isNavigatingWithKeyboard()}}}class Ce extends(613666==s.j?De:null){constructor(){super(...arguments),this.type=we}static shouldSelfRespond(){return!0}static shouldForward(e,t,s){const i=We.findElement(e,s,t.beginData);return!i||!e.focusable.isFocusable(i)}static async makeResponse(e,t,s,i,n,o){const r=We.findElement(e,s,t.beginData);return!!r&&e.focusedElement.focus(r,!0)||!!await o}}const Re=1,Ne=2,Ae=3,Se=4,Me=5,Pe=6;class Le extends(613666==s.j?De:null){constructor(){super(...arguments),this.type=Ee}static shouldSelfRespond(e,t){return t.state!==Se&&t.state!==Me}static async makeResponse(e,t,s,i,n,o,r){const a=t.timestamp,l=t.beginData;if(a&&l)switch(l.state){case Re:return Le._makeFocusedResponse(e,a,l,n,r);case Ne:return Le._makeBlurredResponse(e,a,l,n.ctx);case Ae:return Le._makeObservedResponse(e,l);case Se:return Le._makeDeadWindowResponse(e,l,n,o);case Me:return Le._makeKeyboardNavigationResponse(e,n.ctx,l.isNavigatingWithKeyboard);case Pe:return Le._makeOutlineResponse(e,n.ctx,l.outline)}return!0}static createElement(e,t){return t.uid?new ze(e,t.uid,t.ownerUId,t.id,t.rootUId,t.observedName,t.observedDetails):null}static async _makeFocusedResponse(e,t,s,i,n){const o=Le.createElement(e,s);if(s&&s.ownerUId&&o){if(i.ctx.focusOwner=s.ownerUId,i.ctx.focusOwnerTimestamp=t,!n&&s.rootUId&&s.deloserUId){const t=e.deloser;if(t){const n=ve.getHistory(t),o={ownerUId:s.ownerUId,deloserUId:s.deloserUId,rootUId:s.rootUId};n.make(s.rootUId,(()=>new xe(e,o.rootUId,i))).unshift(o)}}Ke.setVal(e.crossOrigin.focusedElement,o,{isFocusedProgrammatically:s.isFocusedProgrammatically})}return!0}static async _makeBlurredResponse(e,t,s,i){return s&&(s.ownerUId===i.focusOwner||s.force)&&(!i.focusOwnerTimestamp||i.focusOwnerTimestamp<t)&&Ke.setVal(e.crossOrigin.focusedElement,void 0,{}),!0}static async _makeObservedResponse(e,t){const s=t.observedName,i=Le.createElement(e,t);return s&&i&&Ve.trigger(e.crossOrigin.observedElement,i,{names:[s],details:t.observedDetails}),!0}static async _makeDeadWindowResponse(e,t,s,i){const n=t&&t.ownerUId;return n&&s.removeTarget(n),i.then((()=>{if(n===s.ctx.focusOwner){const t=e.deloser;t&&ve.forceRestoreFocus(t)}return!0}))}static async _makeKeyboardNavigationResponse(e,t,s){return void 0!==s&&e.keyboardNavigation.isNavigatingWithKeyboard()!==s&&(t.ignoreKeyboardNavigationStateUpdate=!0,e.keyboardNavigation.setNavigatingWithKeyboard(s),t.ignoreKeyboardNavigationStateUpdate=!1),!0}static async _makeOutlineResponse(e,t,s){return t.origOutlineSetup&&t.origOutlineSetup.call(e.outline,s),!0}}class We extends(613666==s.j?De:null){constructor(){super(...arguments),this.type=Te}static shouldSelfRespond(){return!0}static findElement(e,t,s){let i;if(s&&(!s.ownerId||s.ownerId===U(t())))if(s.id){if(i=t().document.getElementById(s.id),i&&s.rootId){const t=ce.getTabsterContext(e,i);if(!t||t.root.uid!==s.rootId)return null}}else if(s.uid){const e=x(t).elementByUId[s.uid];i=e&&e.get()}else s.observedName&&(i=e.observedElement.getElement(s.observedName,s.accessibility));return i||null}static getElementData(e,t,s,i,n){const o=ve.getDeloser(e,t),r=ce.getTabsterContext(e,t),a=E(e,t),l=a&&a.observed;return{uid:W(s,t),ownerUId:n,id:t.id||void 0,rootUId:r?r.root.uid:void 0,deloserUId:o?$e(s,i,o):void 0,observedName:l&&l.names&&l.names[0],observedDetails:l&&l.details}}static async makeResponse(e,t,s,i,n,o){const r=t.beginData;let a,l;if(void 0===r?a=e.focusedElement.getFocusedElement():r&&(a=We.findElement(e,s,r)||void 0),!a&&r){const i=r.observedName,n=t.timeout,c=r.accessibility;if(i&&n){const t=await new(K(s))((t=>{let s=!1,r=!1,a=!1;e.observedElement.waitElement(i,n,c).result.then((e=>{s=!0,a||!e&&!r||(a=!0,t({element:e}))})),o.then((e=>{r=!0,a||!e&&!s||(a=!0,t({crossOrigin:e}))}))}));t.element?a=t.element:t.crossOrigin&&(l=t.crossOrigin)}}return a?We.getElementData(e,a,s,n.ctx,i):l}}class Ue extends(613666==s.j?De:null){constructor(){super(...arguments),this.type=Fe}static async makeResponse(e,t,s,i,n,o){const r=await o,a=!r&&t.beginData,l=a&&a.deloserUId,c=l&&n.ctx.deloserByUId[l],u=e.deloser;if(a&&c&&u){const e=ve.getHistory(u);return a.reset?e.resetFocus(c):e.focusAvailable(c)}return!!r}}class je extends(613666==s.j?De:null){constructor(){super(...arguments),this.type=Ie}static shouldForward(){return!1}static async makeResponse(){return!0}}class Be{constructor(e,t,s){this._knownTargets={},this._transactions={},this._isDefaultSendUp=!1,this.isSetUp=!1,this._onMessage=e=>{if(e.data.owner===this._ownerUId||!this._tabster)return;const t=e.data;let s;if(!(t&&(s=t.transaction)&&t.type&&t.timestamp&&t.owner&&t.sentto))return;let i=this._knownTargets[t.owner];if(!i&&e.send&&t.owner!==this._ownerUId&&(i=this._knownTargets[t.owner]={send:e.send}),i&&(i.last=Date.now()),t.isResponse){const e=this._transactions[s];e&&e.transaction&&e.transaction.type===t.type&&e.transaction.onResponse(t)}else{const s=this._getTransactionClass(t.type),i=this.forwardTransaction(t);s&&e.send&&s.makeResponse(this._tabster,t,this._owner,this._ownerUId,this,i,!1).then((s=>{const i={transaction:t.transaction,type:t.type,isResponse:!0,timestamp:Date.now(),owner:this._ownerUId,timeout:t.timeout,sentto:{},target:t.target===pe?pe:t.owner,endData:s};e.send(i)}))}},this._onPageHide=()=>{this._dead()},this._onBrowserMessage=e=>{if(e.source===this._owner())return;const t=t=>{e.source&&e.source.postMessage&&e.source.postMessage(JSON.stringify(t),"*")};try{this._onMessage({data:JSON.parse(e.data),send:t})}catch(e){}},this._tabster=e,this._owner=t,this._ownerUId=U(t()),this.ctx=s}setup(e){return this.isSetUp||(this.isSetUp=!0,this.setSendUp(e),this._owner().addEventListener("pagehide",this._onPageHide),this._ping()),this._onMessage}setSendUp(e){if(!this.isSetUp)throw new Error("CrossOrigin is not set up.");this.sendUp=e||void 0;const t=this._owner();return void 0===e?this._isDefaultSendUp||t.document&&(this._isDefaultSendUp=!0,t.parent&&t.parent!==t&&t.parent.postMessage&&(this.sendUp=e=>{t.parent.postMessage(JSON.stringify(e),"*")}),t.addEventListener("message",this._onBrowserMessage)):this._isDefaultSendUp&&(t.removeEventListener("message",this._onBrowserMessage),this._isDefaultSendUp=!1),this._onMessage}async dispose(){const e=this._owner();this._pingTimer&&(e.clearTimeout(this._pingTimer),this._pingTimer=void 0),e.removeEventListener("message",this._onBrowserMessage),e.removeEventListener("pagehide",this._onPageHide),await this._dead(),delete this._deadPromise;for(const t of Object.keys(this._transactions)){const s=this._transactions[t];s.timer&&(e.clearTimeout(s.timer),delete s.timer),s.transaction.end()}this._knownTargets={},delete this.sendUp}beginTransaction(e,t,s,i,n,o){if(!this._owner)return K(this._owner).reject();const r=new e(this._tabster,this._owner,this._knownTargets,t,s,i,n,this.sendUp);let a;return e.shouldSelfRespond&&e.shouldSelfRespond(this._tabster,t,this._owner,this._ownerUId)&&(a=t=>e.makeResponse(this._tabster,t,this._owner,this._ownerUId,this,K(this._owner).resolve(void 0),!0)),this._beginTransaction(r,s,a,o)}removeTarget(e){delete this._knownTargets[e]}_beginTransaction(e,t,s,i){const n=this._owner(),o={transaction:e,timer:n.setTimeout((()=>{delete o.timer,e.end("Cross origin transaction timed out.")}),1500+(t||0))};this._transactions[e.id]=o;const r=e.begin(s);return r.catch((()=>{})).finally((()=>{o.timer&&n.clearTimeout(o.timer),delete this._transactions[e.id]})),r.then((e=>e),i?void 0:()=>{})}forwardTransaction(e){const t=this._owner;let s=e.target;if(s===this._ownerUId)return K(t).resolve();const i=this._getTransactionClass(e.type);if(i){if(void 0===i.shouldForward||i.shouldForward(this._tabster,e,t,this._ownerUId)){const n=e.sentto;return s===pe&&(s=void 0,n[this._ownerUId]=!0),delete n[pe],this._beginTransaction(new i(this._tabster,t,this._knownTargets,e.beginData,e.timeout,n,s,this.sendUp),e.timeout)}return K(t).resolve()}return K(t).reject(`Unknown transaction type ${e.type}`)}_getTransactionClass(e){switch(e){case ye:return Oe;case we:return Ce;case Ee:return Le;case Te:return We;case Fe:return Ue;case Ie:return je;default:return null}}async _dead(){this._deadPromise||this.ctx.focusOwner!==this._ownerUId||(this._deadPromise=this.beginTransaction(Le,{ownerUId:this._ownerUId,state:Se})),this._deadPromise&&await this._deadPromise}async _ping(){if(this._pingTimer)return;let e;const t=Date.now(),s=Object.keys(this._knownTargets).filter((e=>t-(this._knownTargets[e].last||0)>3e3));if(this.sendUp&&s.push(pe),s.length&&await K(this._owner).all(s.map((t=>this.beginTransaction(je,void 0,void 0,void 0,t,!0).then((()=>!0),(()=>(t!==pe&&(e||(e={}),e[t]=!0,delete this._knownTargets[t]),!1)))))),e){if(!await this.beginTransaction(We,void 0)&&this.ctx.focusOwner&&this.ctx.focusOwner in e){await this.beginTransaction(Le,{ownerUId:this._ownerUId,state:Ne,force:!0});const e=this._tabster.deloser;e&&ve.forceRestoreFocus(e)}}this._pingTimer=this._owner().setTimeout((()=>{this._pingTimer=void 0,this._ping()}),3e3)}}class ze{constructor(e,t,s,i,n,o,r){this._tabster=e,this.uid=t,this.ownerId=s,this.id=i,this.rootId=n,this.observedName=o,this.observedDetails=r}focus(e,t){return this._tabster.crossOrigin.focusedElement.focus(this,e,t)}}class Ke extends(613666==s.j?ge:null){constructor(e){super(),this._transactions=e}async focus(e,t,s){return this._focus({uid:e.uid,id:e.id,rootId:e.rootId,ownerId:e.ownerId,observedName:e.observedName},t,s)}async focusById(e,t,s,i){return this._focus({id:e,rootId:t},s,i)}async focusByObservedName(e,t,s,i,n){return this._focus({observedName:e,rootId:s},i,n,t)}async _focus(e,t,s,i){return this._transactions.beginTransaction(Ce,{...e,noFocusedProgrammaticallyFlag:t,noAccessibleCheck:s},i).then((e=>!!e))}static setVal(e,t,s){e.setVal(t,s)}}class Ve extends(613666==s.j?ge:null){constructor(e,t){super(),this._lastRequestFocusId=0,this._tabster=e,this._transactions=t}async getElement(e,t){return this.waitElement(e,0,t)}async waitElement(e,t,s){return this._transactions.beginTransaction(We,{observedName:e,accessibility:s},t).then((e=>e?Le.createElement(this._tabster,e):null))}async requestFocus(e,t){const s=++this._lastRequestFocusId;return this.waitElement(e,t,m.Focusable).then((e=>!(this._lastRequestFocusId!==s||!e)&&this._tabster.crossOrigin.focusedElement.focus(e,!0)))}static trigger(e,t,s){e.trigger(t,s)}}class He{constructor(e){this._init=()=>{const e=this._tabster;e.keyboardNavigation.subscribe(this._onKeyboardNavigationStateChanged),e.focusedElement.subscribe(this._onFocus),e.observedElement.subscribe(this._onObserved),this._ctx.origOutlineSetup||(this._ctx.origOutlineSetup=e.outline.setup,e.outline.setup=this._outlineSetup),this._transactions.beginTransaction(Oe,void 0,void 0,void 0,pe).then((e=>{e&&this._tabster.keyboardNavigation.isNavigatingWithKeyboard()!==e.isNavigatingWithKeyboard&&(this._ctx.ignoreKeyboardNavigationStateUpdate=!0,this._tabster.keyboardNavigation.setNavigatingWithKeyboard(e.isNavigatingWithKeyboard),this._ctx.ignoreKeyboardNavigationStateUpdate=!1)}))},this._onKeyboardNavigationStateChanged=e=>{this._ctx.ignoreKeyboardNavigationStateUpdate||this._transactions.beginTransaction(Le,{state:Me,ownerUId:U(this._win()),isNavigatingWithKeyboard:e})},this._onFocus=e=>{const t=this._win(),s=U(t);this._blurTimer&&(t.clearTimeout(this._blurTimer),this._blurTimer=void 0),e?this._transactions.beginTransaction(Le,{...We.getElementData(this._tabster,e,this._win,this._ctx,s),state:Re}):this._blurTimer=t.setTimeout((()=>{this._blurTimer=void 0,this._ctx.focusOwner&&this._ctx.focusOwner===s&&this._transactions.beginTransaction(We,void 0).then((e=>{e||this._ctx.focusOwner!==s||this._transactions.beginTransaction(Le,{ownerUId:s,state:Ne,force:!1})}))}),0)},this._onObserved=(e,t)=>{var s;const i=We.getElementData(this._tabster,e,this._win,this._ctx,U(this._win()));i.state=Ae,i.observedName=null===(s=t.names)||void 0===s?void 0:s[0],i.observedDetails=t.details,this._transactions.beginTransaction(Le,i)},this._outlineSetup=e=>{this._transactions.beginTransaction(Le,{state:Pe,ownerUId:U(this._win()),outline:e})},this._tabster=e,this._win=e.getWindow,this._ctx={ignoreKeyboardNavigationStateUpdate:!1,deloserByUId:{}},this._transactions=new Be(e,this._win,this._ctx),this.focusedElement=new Ke(this._transactions),this.observedElement=new Ve(e,this._transactions)}setup(e){return this.isSetUp()?this._transactions.setSendUp(e):(this._tabster.queueInit(this._init),this._transactions.setup(e))}isSetUp(){return this._transactions.isSetUp}dispose(){var e;const t=this._tabster;t.keyboardNavigation.unsubscribe(this._onKeyboardNavigationStateChanged),t.focusedElement.unsubscribe(this._onFocus),null===(e=t.observedElement)||void 0===e||e.unsubscribe(this._onObserved),this._transactions.dispose(),this.focusedElement.dispose(),this.observedElement.dispose(),this._ctx.deloserByUId={}}}function $e(e,t,s){const i=s.getElement();if(i){const n=W(e,i);return t.deloserByUId[n]||(t.deloserByUId[n]=s),n}}class qe{constructor(e){this._tabster=e}dispose(){}getProps(e){const t=E(this._tabster,e);return t&&t.focusable||{}}isFocusable(e,t,s,i){return!(!z(e,f)||!t&&-1===e.tabIndex)&&((s||this.isVisible(e))&&(i||this.isAccessible(e)))}isVisible(e){if(!e.ownerDocument||e.nodeType!==Node.ELEMENT_NODE)return!1;if(null===e.offsetParent&&e.ownerDocument.body!==e)return!1;const t=e.ownerDocument.defaultView;if(!t)return!1;const s=e.ownerDocument.body.getBoundingClientRect();if(0===s.width&&0===s.height)return!1;return"hidden"!==t.getComputedStyle(e).visibility}isAccessible(e){var t;for(let s=e;s;s=s.parentElement){const e=E(this._tabster,s);if(this._isHidden(s))return!1;if(!(null===(t=null==e?void 0:e.focusable)||void 0===t?void 0:t.ignoreAriaDisabled)&&this._isDisabled(s))return!1}return!0}_isDisabled(e){return e.hasAttribute("disabled")}_isHidden(e){var t;const s=e.getAttribute("aria-hidden");return!(!s||"true"!==s.toLowerCase()||(null===(t=this._tabster.modalizer)||void 0===t?void 0:t.isAugmented(e)))}findFirst(e,t){return this.findElement({...e},t)}findLast(e,t){return this.findElement({isBackward:!0,...e},t)}findNext(e,t){return this.findElement({...e},t)}findPrev(e,t){return this.findElement({...e,isBackward:!0},t)}findDefault(e,t){return this.findElement({...e,acceptCondition:t=>this.isFocusable(t,e.includeProgrammaticallyFocusable)&&!!this.getProps(t).isDefault},t)||null}findAll(e){return this._findElements(!0,e)||[]}findElement(e,t){const s=this._findElements(!1,e,t);return s?s[0]:s}_findElements(e,t,s){var i,n,o;const{container:r,currentElement:a=null,includeProgrammaticallyFocusable:l,useActiveModalizer:c,ignoreAccessibility:u,modalizerId:d,isBackward:h,onElement:f}=t;s||(s={});const m=[];let{acceptCondition:_}=t;const b=!!_;if(!r)return null;_||(_=e=>this.isFocusable(e,l,!1,u));const v={container:r,modalizerUserId:void 0===d&&c?null===(i=this._tabster.modalizer)||void 0===i?void 0:i.activeId:d||(null===(o=null===(n=ce.getTabsterContext(this._tabster,r))||void 0===n?void 0:n.modalizer)||void 0===o?void 0:o.userId),from:a||r,isBackward:h,acceptCondition:_,hasCustomCondition:b,includeProgrammaticallyFocusable:l,ignoreAccessibility:u,cachedGrouppers:{}},g=N(r.ownerDocument,r,(e=>this._acceptElement(e,v)));if(!g)return null;const p=t=>{var i,n;const o=null!==(i=v.foundElement)&&void 0!==i?i:v.foundBackward;return o&&m.push(o),e?!(o&&(v.found=!1,delete v.foundElement,delete v.foundBackward,delete v.fromCtx,v.from=o,f&&!f(o)))&&!(!o&&!t):(o&&s&&(s.uncontrolled=null===(n=ce.getTabsterContext(this._tabster,o))||void 0===n?void 0:n.uncontrolled),!(!t||o))};if(a||(s.outOfDOMOrder=!0),a)g.currentNode=a;else if(h){const e=ee(r);if(!e)return null;if(this._acceptElement(e,v)===NodeFilter.FILTER_ACCEPT&&!p(!0))return v.skippedFocusable&&(s.outOfDOMOrder=!0),m;g.currentNode=e}do{h?g.previousNode():g.nextNode()}while(p());return v.skippedFocusable&&(s.outOfDOMOrder=!0),m.length?m:null}_acceptElement(e,t){var s,i,n,o;if(t.found)return NodeFilter.FILTER_ACCEPT;const r=t.foundBackward;if(r&&(e===r||!r.contains(e)))return t.found=!0,t.foundElement=r,NodeFilter.FILTER_ACCEPT;const a=t.container;if(e===a)return NodeFilter.FILTER_SKIP;if(!a.contains(e))return NodeFilter.FILTER_REJECT;if(e.__tabsterDummyContainer)return NodeFilter.FILTER_REJECT;if(null===(s=t.rejectElementsFrom)||void 0===s?void 0:s.contains(e))return NodeFilter.FILTER_REJECT;const l=t.currentCtx=ce.getTabsterContext(this._tabster,e);if(!l)return NodeFilter.FILTER_SKIP;if(P(e))return this.isFocusable(e,void 0,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_SKIP;if(!t.hasCustomCondition&&("IFRAME"===e.tagName||"WEBVIEW"===e.tagName))return(null===(i=l.modalizer)||void 0===i?void 0:i.userId)===(null===(n=this._tabster.modalizer)||void 0===n?void 0:n.activeId)?(t.found=!0,t.rejectElementsFrom=t.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!t.ignoreAccessibility&&!this.isAccessible(e))return this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_REJECT;let c,u=t.fromCtx;u||(u=t.fromCtx=ce.getTabsterContext(this._tabster,t.from));const d=null==u?void 0:u.mover;let h=l.groupper,f=l.mover;if(c=null===(o=this._tabster.modalizer)||void 0===o?void 0:o.acceptElement(e,t),void 0!==c&&(t.skippedFocusable=!0),void 0===c&&(h||f||d)){const s=null==h?void 0:h.getElement(),i=null==d?void 0:d.getElement();let n=null==f?void 0:f.getElement();n&&(null==i?void 0:i.contains(n))&&a.contains(i)&&(!s||!f||i.contains(s))&&(f=d,n=i),!s||s!==a&&a.contains(s)||(h=void 0),n&&!a.contains(n)&&(f=void 0),h&&f&&(n&&s&&!s.contains(n)?f=void 0:h=void 0),h&&(c=h.acceptElement(e,t)),f&&(c=f.acceptElement(e,t))}return void 0===c&&(c=t.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,c===NodeFilter.FILTER_SKIP&&this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0)),c!==NodeFilter.FILTER_ACCEPT||t.found||(t.isBackward?(t.foundBackward=e,c=NodeFilter.FILTER_SKIP):(t.found=!0,t.foundElement=e)),c}}const Qe=9,Je=13,Ge=27,Ye=33,Xe=34,Ze=35,et=36,tt=37,st=38,it=39,nt=40;class ot extends ge{constructor(e,t){super(),this._init=()=>{const e=this._win(),t=e.document;t.addEventListener(i.KEYBORG_FOCUSIN,this._onFocusIn,!0),t.addEventListener("focusout",this._onFocusOut,!0),e.addEventListener("keydown",this._onKeyDown,!0);const s=t.activeElement;s&&s!==t.body&&this._setFocusedElement(s),this.subscribe(this._onChanged)},this._onFocusIn=e=>{this._setFocusedElement(e.target,e.details.relatedTarget,e.details.isFocusedProgrammatically)},this._onFocusOut=e=>{this._setFocusedElement(void 0,e.relatedTarget)},this._validateFocusedElement=e=>{},this._onKeyDown=e=>{if(e.keyCode!==Qe||e.ctrlKey)return;const t=this.getVal();if(!t||!t.ownerDocument||"true"===t.contentEditable)return;const s=this._tabster,n=s.controlTab,o=ce.getTabsterContext(s,t);if(!o||o.ignoreKeydown(e))return;const r=e.shiftKey,a=ot.findNextTabbable(s,o,void 0,t,void 0,r,!0),l=o.root.getElement();if(!l)return;const c=null==a?void 0:a.element,u=function(e,t){var s;const i=e.getParent;let n=t;do{const t=null===(s=E(e,n))||void 0===s?void 0:s.uncontrolled;if(t&&e.uncontrolled.isUncontrolledCompletely(n,!!t.completely))return n;n=i(n)}while(n)}(s,t);if(c){const d=a.uncontrolled;if(o.uncontrolled||(null==d?void 0:d.contains(t))){if(!a.outOfDOMOrder&&d===o.uncontrolled||u&&!u.contains(c))return;return void Y.addPhantomDummyWithTarget(s,t,r,c)}if(d||"IFRAME"===c.tagName)return void(se({by:"root",owner:l,next:c,relatedEvent:e})&&Y.moveWithPhantomDummy(this._tabster,null!=d?d:c,!1,r,e));(n||(null==a?void 0:a.outOfDOMOrder))&&se({by:"root",owner:l,next:c,relatedEvent:e})&&(e.preventDefault(),e.stopImmediatePropagation(),(0,i.nativeFocus)(c))}else!u&&se({by:"root",owner:l,next:null,relatedEvent:e})&&o.root.moveOutWithDefaultAction(r,e)},this._onChanged=(e,t)=>{var s,i;if(e)te(e,u,t);else{const e=null===(s=this._lastVal)||void 0===s?void 0:s.get();if(e){const s={...t},n=ce.getTabsterContext(this._tabster,e),o=null===(i=null==n?void 0:n.modalizer)||void 0===i?void 0:i.userId;o&&(s.modalizerId=o),te(e,d,s)}}},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){super.dispose();const e=this._win();e.document.removeEventListener(i.KEYBORG_FOCUSIN,this._onFocusIn,!0),e.document.removeEventListener("focusout",this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged),delete ot._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(e,t){var s,i;let n=ot._lastResetElement,o=n&&n.get();o&&t.contains(o)&&delete ot._lastResetElement,o=null===(i=null===(s=e._nextVal)||void 0===s?void 0:s.element)||void 0===i?void 0:i.get(),o&&t.contains(o)&&delete e._nextVal,n=e._lastVal,o=n&&n.get(),o&&t.contains(o)&&delete e._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var e;let t=null===(e=this._lastVal)||void 0===e?void 0:e.get();return(!t||t&&!B(t.ownerDocument,t))&&(this._lastVal=t=void 0),t}focus(e,t,s){return!!this._tabster.focusable.isFocusable(e,t,!1,s)&&(e.focus(),!0)}focusDefault(e){const t=this._tabster.focusable.findDefault({container:e});return!!t&&(this._tabster.focusedElement.focus(t),!0)}getFirstOrLastTabbable(e,t){var s;const{container:i,ignoreAccessibility:n}=t;let o;if(i){const t=ce.getTabsterContext(this._tabster,i);t&&(o=null===(s=ot.findNextTabbable(this._tabster,t,i,void 0,void 0,!e,n))||void 0===s?void 0:s.element)}return o&&!(null==i?void 0:i.contains(o))&&(o=void 0),o||void 0}_focusFirstOrLast(e,t){const s=this.getFirstOrLastTabbable(e,t);return!!s&&(this.focus(s,!1,!0),!0)}focusFirst(e){return this._focusFirstOrLast(!0,e)}focusLast(e){return this._focusFirstOrLast(!1,e)}resetFocus(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{const t=e.getAttribute("tabindex"),s=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),ot._lastResetElement=new O(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",t),this._setOrRemoveAttribute(e,"aria-hidden",s)}return!0}_setOrRemoveAttribute(e,t,s){null===s?e.removeAttribute(t):e.setAttribute(t,s)}_setFocusedElement(e,t,s){var i,n;if(this._tabster._noop)return;const o={relatedTarget:t};if(e){const t=null===(i=ot._lastResetElement)||void 0===i?void 0:i.get();if(ot._lastResetElement=void 0,t===e||P(e))return;o.isFocusedProgrammatically=s;const r=ce.getTabsterContext(this._tabster,e),a=null===(n=null==r?void 0:r.modalizer)||void 0===n?void 0:n.userId;a&&(o.modalizerId=a)}const r=this._nextVal={element:e?new O(this._win,e):void 0,details:o};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===r&&this.setVal(e,o),this._nextVal=void 0}setVal(e,t){super.setVal(e,t),e&&(this._lastVal=new O(this._win,e))}static findNextTabbable(e,t,s,i,n,o,r){const a=s||t.root.getElement();if(!a)return null;let l=null;const c=ot._isTabbingTimer,u=e.getWindow();c&&u.clearTimeout(c),ot.isTabbing=!0,ot._isTabbingTimer=u.setTimeout((()=>{delete ot._isTabbingTimer,ot.isTabbing=!1}),0);const d=t.modalizer,h=t.groupper,f=t.mover,m=t=>{var a;if(l=t.findNextTabbable(i,n,o,r),i&&!(null==l?void 0:l.element)){const n=t!==d&&(null===(a=t.getElement())||void 0===a?void 0:a.parentElement);if(n){const a=ce.getTabsterContext(e,i,{referenceElement:n});if(a){const i=t.getElement(),c=o?i:i&&ee(i)||i;c&&(l=ot.findNextTabbable(e,a,s,c,n,o,r),l&&(l.outOfDOMOrder=!0))}}}};if(h&&f)m(t.groupperBeforeMover?h:f);else if(h)m(h);else if(f)m(f);else if(d)m(d);else{const t={container:a,currentElement:i,referenceElement:n,ignoreAccessibility:r,useActiveModalizer:!0},s={},c=e.focusable[o?"findPrev":"findNext"](t,s);l={element:c,outOfDOMOrder:s.outOfDOMOrder,uncontrolled:s.uncontrolled}}return l}}ot.isTabbing=!1;class rt extends(613666==s.j?Y:null){constructor(e,t,s,n){super(s,e,G,n,!0),this._setHandlers(((n,o,r)=>{var a,l;const c=e.get(),u=n.input;if(c&&u){const e=ce.getTabsterContext(s,u);if(e){let d;d=null===(a=t.findNextTabbable(r||void 0,void 0,o,!0))||void 0===a?void 0:a.element,d||(d=null===(l=ot.findNextTabbable(s,e,void 0,n.isOutside?u:function(e,t){let s=e,i=null;for(;s&&!i;)i=t?s.previousElementSibling:s.nextElementSibling,s=s.parentElement;return i||void 0}(c,!o),void 0,o,!0))||void 0===l?void 0:l.element),d&&(0,i.nativeFocus)(d)}}}))}}class at extends(613666==s.j?H:null){constructor(e,t,s,i,n){super(e,t,i),this._shouldTabInside=!1,this.makeTabbable(!1),this._onDispose=s,e.controlTab||(this.dummyManager=new rt(this._element,this,e,n))}dispose(){var e;this._onDispose(this);this._element.get();null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager,delete this._first}findNextTabbable(e,t,s,i){var n;const o=this.getElement();if(!o)return null;const r=(null===(n=null==e?void 0:e.__tabsterDummyContainer)||void 0===n?void 0:n.get())===o;if(!this._shouldTabInside&&e&&o.contains(e)&&!r)return{element:void 0,outOfDOMOrder:!0};const a=this.getFirst(!0);if(!e||!o.contains(e)||r)return{element:a,outOfDOMOrder:!0};const l=this._tabster;let c,u=null,d=!1;if(this._shouldTabInside&&a){const n={container:o,currentElement:e,referenceElement:t,ignoreAccessibility:i,useActiveModalizer:!0},r={};u=l.focusable[s?"findPrev":"findNext"](n,r),d=!!r.outOfDOMOrder,u||this._props.tabbability!==p.LimitedTrapFocus||(u=l.focusable[s?"findLast":"findFirst"]({container:o,ignoreAccessibility:i,useActiveModalizer:!0},r),d=!0),c=r.uncontrolled}return{element:u,uncontrolled:c,outOfDOMOrder:d}}makeTabbable(e){this._shouldTabInside=e||!this._props.tabbability}isActive(e){var t;const s=this.getElement()||null;let i=!0;for(let e=null==s?void 0:s.parentElement;e;e=e.parentElement){const s=null===(t=E(this._tabster,e))||void 0===t?void 0:t.groupper;s&&(s._shouldTabInside||(i=!1))}let n=i?!!this._props.tabbability&&this._shouldTabInside:void 0;if(n&&e){const e=this._tabster.focusedElement.getFocusedElement();e&&(n=e!==this.getFirst(!0))}return n}getFirst(e){var t;const s=this.getElement();let i;if(s){if(e&&this._tabster.focusable.isFocusable(s))return s;i=null===(t=this._first)||void 0===t?void 0:t.get(),i||(i=this._tabster.focusable.findFirst({container:s,useActiveModalizer:!0})||void 0,i&&this.setFirst(i))}return i}setFirst(e){e?this._first=new O(this._tabster.getWindow,e):delete this._first}acceptElement(e,t){var s;const i=t.cachedGrouppers,n=null===(s=this.getElement())||void 0===s?void 0:s.parentElement,o=n&&ce.getTabsterContext(this._tabster,n),r=null==o?void 0:o.groupper,a=(null==o?void 0:o.groupperBeforeMover)?r:void 0;let l;const c=e=>{let t,s=i[e.id];return s?t=s.isActive:(t=this.isActive(!0),s=i[e.id]={isActive:t}),t};if(a&&(l=a.getElement(),!c(a)&&l&&t.container!==l&&t.container.contains(l)))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const u=c(this),d=this.getElement();if(d&&!0!==u){if(d===e&&r&&(l||(l=r.getElement()),l&&!c(r)&&t.container.contains(l)&&l!==t.container))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;if(d!==e&&d.contains(e))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const s=i[this.id];let n;if(n="first"in s?s.first:s.first=this.getFirst(!0),n&&t.acceptCondition(n))return t.rejectElementsFrom=d,t.skippedFocusable=!0,n!==t.from?(t.found=!0,t.foundElement=n,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT}}}class lt{constructor(e,t){this._current={},this._grouppers={},this._init=()=>{const e=this._win();this._tabster.focusedElement.subscribeFirst(this._onFocus),e.document.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("keydown",this._onKeyDown,!0)},this._onGroupperDispose=e=>{delete this._grouppers[e.id]},this._onFocus=e=>{e&&this._updateCurrent(e,!0,!0)},this._onMouseDown=e=>{e.target&&this._updateCurrent(e.target,!0)},this._onKeyDown=e=>{if(e.keyCode!==Je&&e.keyCode!==Ge)return;if(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)return;const t=this._tabster.focusedElement.getFocusedElement();t&&this.handleKeyPress(t,e)},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){const e=this._win();this._handleKeyPressTimer&&(e.clearTimeout(this._handleKeyPressTimer),delete this._handleKeyPressTimer),this._current={},this._updateTimer&&(e.clearTimeout(this._updateTimer),delete this._updateTimer),this._tabster.focusedElement.unsubscribe(this._onFocus),e.document.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._grouppers).forEach((e=>{this._grouppers[e]&&(this._grouppers[e].dispose(),delete this._grouppers[e])}))}createGroupper(e,t,s){const i=new at(this._tabster,e,this._onGroupperDispose,t,s);this._grouppers[i.id]=i;const n=this._tabster.focusedElement.getFocusedElement();return n&&e.contains(n)&&!this._updateTimer&&(this._updateTimer=this._win().setTimeout((()=>{delete this._updateTimer,n===this._tabster.focusedElement.getFocusedElement()&&this._updateCurrent(n,!0,!0)}),0)),i}forgetCurrentGrouppers(){this._current={}}_updateCurrent(e,t,s){var i;this._updateTimer&&(this._win().clearTimeout(this._updateTimer),delete this._updateTimer);const n={};let o=!0;for(let r=e;r;r=r.parentElement){const a=null===(i=E(this._tabster,r))||void 0===i?void 0:i.groupper;if(a){if(n[a.id]=!0,o&&s&&r!==e&&(o=!1),t||!o){this._current[a.id]=a;const t=a.isActive()||e!==r&&(!a.getProps().delegated||a.getFirst(!1)!==e);a.makeTabbable(t)}o=!1}}for(const e of Object.keys(this._current)){const t=this._current[e];t.id in n||(t.makeTabbable(!1),t.setFirst(void 0),delete this._current[e])}}handleKeyPress(e,t,s){const i=this._tabster,n=ce.getTabsterContext(i,e),o=null==n?void 0:n.modalizerInGroupper;let r=(null==n?void 0:n.groupper)||o;if(n&&r){const a=this._win();if(this._handleKeyPressTimer&&(a.clearTimeout(this._handleKeyPressTimer),delete this._handleKeyPressTimer),n.ignoreKeydown(t))return;let l;const c=r.getElement();if(t.keyCode===Je)c&&(e===c||r.getProps().delegated&&e===r.getFirst(!1))&&(l=i.focusable.findNext({container:c,currentElement:e,useActiveModalizer:!0})),l&&c&&se({by:"groupper",owner:c,next:l,relatedEvent:t})&&(t.preventDefault(),t.stopImmediatePropagation(),l.focus());else if(t.keyCode===Ge){const n=i.focusedElement.getFocusedElement();this._handleKeyPressTimer=a.setTimeout((()=>{var a;if(delete this._handleKeyPressTimer,n===i.focusedElement.getFocusedElement()&&r&&c&&c.contains(e)){if(e!==c||s)l=r.getFirst(!0);else{const e=c.parentElement,t=e?ce.getTabsterContext(i,e):void 0;r=null==t?void 0:t.groupper,l=null==r?void 0:r.getFirst(!0)}l&&se({by:"groupper",owner:c,next:l,relatedEvent:t})&&(r&&(r.makeTabbable(!1),o&&(null===(a=i.modalizer)||void 0===a||a.setActive(void 0))),l.focus())}}),0)}}}}class ct extends(613666==s.j?ge:null){constructor(e){super(),this._onChange=e=>{this.setVal(e,void 0)},this._keyborg=(0,i.createKeyborg)(e()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),(0,i.disposeKeyborg)(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(e){var t;null===(t=this._keyborg)||void 0===t||t.setVal(e)}isNavigatingWithKeyboard(){var e;return!!(null===(e=this._keyborg)||void 0===e?void 0:e.isNavigatingWithKeyboard())}}let ut=0;const dt="aria-hidden";class ht extends(613666==s.j?Y:null){constructor(e,t,s){super(t,e,Q,s),this._setHandlers(((s,n)=>{var o,r,a;const l=e.get(),c=l&&(null===(o=ce.getRoot(t,l))||void 0===o?void 0:o.getElement()),u=s.input;let d;if(c&&u){const e=null===(r=u.__tabsterDummyContainer)||void 0===r?void 0:r.get(),s=ce.getTabsterContext(t,e||u);s&&(d=null===(a=ot.findNextTabbable(t,s,c,u,void 0,n,!0))||void 0===a?void 0:a.element),d&&(0,i.nativeFocus)(d)}}))}}class ft extends(613666==s.j?H:null){constructor(e,t,s,i,n,o){super(e,t,i),this._wasFocused=0,this.userId=i.id,this._onDispose=s,this._activeElements=o,e.controlTab||(this.dummyManager=new ht(this._element,e,n))}makeActive(e){if(this._isActive!==e){this._isActive=e;const t=this.getElement();if(t){const s=this._activeElements,i=s.map((e=>e.get())).indexOf(t);e?i<0&&s.push(new O(this._tabster.getWindow,t)):i>=0&&s.splice(i,1)}0,this.triggerFocusEvent(e?a:l)}}focused(e){return e||(this._wasFocused=++ut),this._wasFocused}setProps(e){e.id&&(this.userId=e.id),this._props={...e}}dispose(){var e;this.makeActive(!1),this._onDispose(this),null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager,this._activeElements=[],this._remove()}isActive(){return!!this._isActive}contains(e){var t;return!!(null===(t=this.getElement())||void 0===t?void 0:t.contains(e))}findNextTabbable(e,t,s,i){var n,o;if(!this.getElement())return null;const r=this._tabster;let a,l=null,c=!1;const u=e&&(null===(n=ce.getRoot(r,e))||void 0===n?void 0:n.getElement());if(u){const n={container:u,currentElement:e,referenceElement:t,ignoreAccessibility:i,useActiveModalizer:!0},d={};l=r.focusable[s?"findPrev":"findNext"](n,d),!l&&this._props.isTrapped&&(null===(o=r.modalizer)||void 0===o?void 0:o.activeId)?(l=r.focusable[s?"findLast":"findFirst"]({container:u,ignoreAccessibility:i,useActiveModalizer:!0},d),c=!0):c=!!d.outOfDOMOrder,a=d.uncontrolled}return{element:l,uncontrolled:a,outOfDOMOrder:c}}triggerFocusEvent(e,t){const s=this.getElement();let i=!1;if(s){const n=t?this._activeElements.map((e=>e.get())):[s];for(const t of n)t&&!te(t,e,{id:this.userId,element:s,eventName:e})&&(i=!0)}return i}_remove(){0}}class mt{constructor(e,t,s){this._onModalizerDispose=e=>{const t=e.id,s=e.userId,i=this._parts[s];delete this._modalizers[t],i&&(delete i[t],0===Object.keys(i).length&&(delete this._parts[s],this.activeId===s&&this.setActive(void 0)))},this._onKeyDown=e=>{var t;if(e.keyCode!==Ge)return;const s=this._tabster,i=s.focusedElement.getFocusedElement();if(i){const n=ce.getTabsterContext(s,i),o=null==n?void 0:n.modalizer;if(n&&!n.groupper&&(null==o?void 0:o.isActive())&&!n.ignoreKeydown(e)){const i=o.userId;if(i){const n=this._parts[i];if(n){const i=Object.keys(n).map((e=>{var t;const s=n[e],i=s.getElement();let o;return i&&(o=null===(t=E(this._tabster,i))||void 0===t?void 0:t.groupper),s&&i&&o?{el:i,focusedSince:s.focused(!0)}:{focusedSince:0}})).filter((e=>e.focusedSince>0)).sort(((e,t)=>e.focusedSince>t.focusedSince?-1:e.focusedSince<t.focusedSince?1:0));if(i.length){const n=i[0].el;n&&(null===(t=s.groupper)||void 0===t||t.handleKeyPress(n,e,!0))}}}}}},this._onFocus=(e,t)=>{var s,i;const n=e&&ce.getTabsterContext(this._tabster,e);if(!n||!e)return;const o=this._augMap;for(let t=e;t;t=t.parentElement)o.has(t)&&(o.delete(t),ie(this._tabster,t,dt));const r=n.modalizer;if(null===(i=r||(null===(s=E(this._tabster,e))||void 0===s?void 0:s.modalizer))||void 0===i||i.focused(),(null==r?void 0:r.userId)!==this.activeId)if(t.isFocusedProgrammatically||this.currentIsOthersAccessible||(null==r?void 0:r.getProps().isAlwaysAccessible))this.setActive(r);else{const t=this._win();t.clearTimeout(this._restoreModalizerFocusTimer),this._restoreModalizerFocusTimer=t.setTimeout((()=>this._restoreModalizerFocus(e)),100)}else this.currentIsOthersAccessible=null==r?void 0:r.getProps().isOthersAccessible},this._tabster=e,this._win=e.getWindow,this._modalizers={},this._parts={},this._augMap=new WeakMap,this._aug=[],this._alwaysAccessibleSelector=t,this._accessibleCheck=s,this.activeElements=[],e.controlTab||e.root.addDummyInputs();this._win().addEventListener("keydown",this._onKeyDown,!0),e.queueInit((()=>{this._tabster.focusedElement.subscribe(this._onFocus)}))}dispose(){const e=this._win();e.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._modalizers).forEach((e=>{this._modalizers[e]&&(this._modalizers[e].dispose(),delete this._modalizers[e])})),e.clearTimeout(this._restoreModalizerFocusTimer),e.clearTimeout(this._hiddenUpdateTimer),this._parts={},delete this.activeId,this.activeElements=[],this._augMap=new WeakMap,this._aug=[],this._tabster.focusedElement.unsubscribe(this._onFocus)}createModalizer(e,t,s){var i;const n=new ft(this._tabster,e,this._onModalizerDispose,t,s,this.activeElements),o=n.id,r=t.id;this._modalizers[o]=n;let a=this._parts[r];return a||(a=this._parts[r]={}),a[o]=n,e.contains(null!==(i=this._tabster.focusedElement.getFocusedElement())&&void 0!==i?i:null)&&(r!==this.activeId?this.setActive(n):n.makeActive(!0)),n}isAugmented(e){return this._augMap.has(e)}hiddenUpdate(){this._hiddenUpdateTimer||(this._hiddenUpdateTimer=this._win().setTimeout((()=>{delete this._hiddenUpdateTimer,this._hiddenUpdate()}),250))}setActive(e){const t=null==e?void 0:e.userId,s=this.activeId;if(s!==t){if(this.activeId=t,s){const e=this._parts[s];if(e)for(const t of Object.keys(e))e[t].makeActive(!1)}if(t){const e=this._parts[t];if(e)for(const t of Object.keys(e))e[t].makeActive(!0)}this.currentIsOthersAccessible=null==e?void 0:e.getProps().isOthersAccessible,this.hiddenUpdate()}}focus(e,t,s){const i=ce.getTabsterContext(this._tabster,e),n=null==i?void 0:i.modalizer;if(n){this.setActive(n);const e=n.getProps(),i=n.getElement();if(i){if(void 0===t&&(t=e.isNoFocusFirst),!t&&this._tabster.keyboardNavigation.isNavigatingWithKeyboard()&&this._tabster.focusedElement.focusFirst({container:i}))return!0;if(void 0===s&&(s=e.isNoFocusDefault),!s&&this._tabster.focusedElement.focusDefault(i))return!0;this._tabster.focusedElement.resetFocus(i)}}else 0;return!1}acceptElement(e,t){var s;const i=t.modalizerUserId,n=null===(s=t.currentCtx)||void 0===s?void 0:s.modalizer;if(i)for(const t of this.activeElements){const s=t.get();if(s&&(e.contains(s)||s===e))return NodeFilter.FILTER_SKIP}const o=i===(null==n?void 0:n.userId)||!i&&(null==n?void 0:n.getProps().isAlwaysAccessible)?void 0:NodeFilter.FILTER_SKIP;return void 0!==o&&(t.skippedFocusable=!0),o}_hiddenUpdate(){var e;const t=this._tabster,s=t.getWindow().document.body,i=this.activeId,n=this._parts,o=[],r=[],a=this._alwaysAccessibleSelector,l=a?Array.from(s.querySelectorAll(a)):[],c=[];for(const e of Object.keys(n)){const t=n[e];for(const s of Object.keys(t)){const n=t[s],a=n.getElement(),u=n.getProps().isAlwaysAccessible;a&&(e===i?(c.push(a),this.currentIsOthersAccessible||o.push(a)):u?l.push(a):r.push(a))}}const u=this._augMap,d=o.length>0?[...o,...l]:void 0,h=[],f=new WeakMap,m=(e,s)=>{var i;const n=e.tagName;if("SCRIPT"===n||"STYLE"===n)return;let o=!1;u.has(e)?s?o=!0:(u.delete(e),ie(t,e,dt)):s&&!(null===(i=this._accessibleCheck)||void 0===i?void 0:i.call(this,e,c))&&ie(t,e,dt,"true")&&(u.set(e,!0),o=!0),o&&(h.push(new O(t.getWindow,e)),f.set(e,!0))},_=e=>{for(let t=e.firstElementChild;t;t=t.nextElementSibling){let e=!1,s=!1;if(d){for(const i of d){if(t===i){e=!0;break}if(t.contains(i)){s=!0;break}}s?_(t):e||m(t,!0)}else m(t,!1)}};d||l.forEach((e=>m(e,!1))),r.forEach((e=>m(e,!0))),s&&_(s),null===(e=this._aug)||void 0===e||e.map((e=>e.get())).forEach((e=>{e&&!f.get(e)&&m(e,!1)})),this._aug=h,this._augMap=f}_restoreModalizerFocus(e){const t=null==e?void 0:e.ownerDocument;if(!e||!t)return;const s=ce.getTabsterContext(this._tabster,e),i=null==s?void 0:s.modalizer,n=this.activeId;if(!i&&!n||i&&n===i.userId)return;const o=null==s?void 0:s.root.getElement();if(o){let t=this._tabster.focusable.findFirst({container:o,useActiveModalizer:!0});if(t){if(e.compareDocumentPosition(t)&document.DOCUMENT_POSITION_PRECEDING&&(t=this._tabster.focusable.findLast({container:o,useActiveModalizer:!0}),!t))throw new Error("Something went wrong.");return void this._tabster.focusedElement.focus(t)}}e.blur()}}const _t=613666==s.j?["input","textarea","*[contenteditable]"].join(", "):null;class bt extends(613666==s.j?Y:null){constructor(e,t,s,n){super(t,e,J,n),this._onFocusDummyInput=e=>{var t,s;const n=this._element.get(),o=e.input;if(n&&o){const r=ce.getTabsterContext(this._tabster,n);let a;r&&(a=null===(t=ot.findNextTabbable(this._tabster,r,void 0,o,void 0,!e.isFirst,!0))||void 0===t?void 0:t.element);const l=null===(s=this._getMemorized())||void 0===s?void 0:s.get();l&&(a=l),a&&(0,i.nativeFocus)(a)}},this._tabster=t,this._getMemorized=s,this._setHandlers(this._onFocusDummyInput)}}class vt extends(613666==s.j?H:null){constructor(e,t,s,i,n){var o;super(e,t,i),this._visible={},this._onIntersection=e=>{for(const t of e){const e=t.target,s=W(this._win,e);let i,n=this._fullyVisible;if(t.intersectionRatio>=.25?(i=t.intersectionRatio>=.75?b.Visible:b.PartiallyVisible,i===b.Visible&&(n=s)):i=b.Invisible,this._visible[s]!==i){void 0===i?(delete this._visible[s],n===s&&delete this._fullyVisible):(this._visible[s]=i,this._fullyVisible=n);const t=this.getState(e);t&&te(e,c,t)}}},this._win=e.getWindow,this.visibilityTolerance=null!==(o=i.visibilityTolerance)&&void 0!==o?o:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=s;const r=()=>i.memorizeCurrent?this._current:void 0;e.controlTab||(this.dummyManager=new bt(this._element,e,r,n))}dispose(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);const t=this._win();this._setCurrentTimer&&(t.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(t.clearTimeout(this._updateTimer),delete this._updateTimer),null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager}setCurrent(e){this._current=e?new O(this._win,e):void 0,!this._props.trackState&&!this._props.visibilityAware||this._setCurrentTimer||(this._setCurrentTimer=this._win().setTimeout((()=>{var e;delete this._setCurrentTimer;const t=[];this._current!==this._prevCurrent&&(t.push(this._current),t.push(this._prevCurrent),this._prevCurrent=this._current);for(const s of t){const t=null==s?void 0:s.get();if(t&&(null===(e=this._allElements)||void 0===e?void 0:e.get(t))===this){const e=this._props;if(t&&(void 0!==e.visibilityAware||e.trackState)){const e=this.getState(t);e&&te(t,c,e)}}}})))}getCurrent(){var e;return(null===(e=this._current)||void 0===e?void 0:e.get())||null}findNextTabbable(e,t,s,i){var n;const o=this.getElement(),r=o&&(null===(n=null==e?void 0:e.__tabsterDummyContainer)||void 0===n?void 0:n.get())===o;if(!o)return null;let a,l=null,c=!1;if(this._props.tabbable||r||e&&!o.contains(e)){const n={currentElement:e,referenceElement:t,container:o,ignoreAccessibility:i,useActiveModalizer:!0},r={};l=this._tabster.focusable[s?"findPrev":"findNext"](n,r),c=!!r.outOfDOMOrder,a=r.uncontrolled}return{element:l,uncontrolled:a,outOfDOMOrder:c}}acceptElement(e,t){var s,i,n;if(!ot.isTabbing)return(null===(s=t.currentCtx)||void 0===s?void 0:s.excludedFromMover)?NodeFilter.FILTER_REJECT:void 0;const{memorizeCurrent:o,visibilityAware:r,hasDefault:a=!0}=this._props,l=this.getElement();if(l&&(o||r||a)&&(!l.contains(t.from)||(null===(i=t.from.__tabsterDummyContainer)||void 0===i?void 0:i.get())===l)){let e;if(o){const s=null===(n=this._current)||void 0===n?void 0:n.get();s&&t.acceptCondition(s)&&(e=s)}if(!e&&a&&(e=this._tabster.focusable.findDefault({container:l,useActiveModalizer:!0})),!e&&r&&(e=this._tabster.focusable.findElement({container:l,useActiveModalizer:!0,isBackward:t.isBackward,acceptCondition:e=>{var s;const i=W(this._win,e),n=this._visible[i];return l!==e&&!!(null===(s=this._allElements)||void 0===s?void 0:s.get(e))&&t.acceptCondition(e)&&(n===b.Visible||n===b.PartiallyVisible&&(r===b.PartiallyVisible||!this._fullyVisible))}})),e)return t.found=!0,t.foundElement=e,t.rejectElementsFrom=l,t.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}_observeState(){const e=this.getElement();if(this._unobserve||!e||"undefined"==typeof MutationObserver)return;const t=this._win(),s=this._allElements=new WeakMap,i=this._tabster.focusable;let n=this._updateQueue=[];const o=new MutationObserver((e=>{for(const t of e){const e=t.target,s=t.removedNodes,i=t.addedNodes;if("attributes"===t.type)"tabindex"===t.attributeName&&n.push({element:e,type:2});else{for(let e=0;e<s.length;e++)n.push({element:s[e],type:3});for(let e=0;e<i.length;e++)n.push({element:i[e],type:1})}}u()})),r=(e,t)=>{var i,n;const o=s.get(e);o&&t&&(null===(i=this._intersectionObserver)||void 0===i||i.unobserve(e),s.delete(e)),o||t||(s.set(e,this),null===(n=this._intersectionObserver)||void 0===n||n.observe(e))},a=e=>{const t=i.isFocusable(e);s.get(e)?t||r(e,!0):t&&r(e)},l=e=>{const{mover:s}=d(e);if(s&&s!==this){if(s.getElement()!==e||!i.isFocusable(e))return;r(e)}const n=N(t.document,e,(e=>{const{mover:t,groupper:s}=d(e);if(t&&t!==this)return NodeFilter.FILTER_REJECT;const n=null==s?void 0:s.getFirst(!0);return s&&s.getElement()!==e&&n&&n!==e?NodeFilter.FILTER_REJECT:(i.isFocusable(e)&&r(e),NodeFilter.FILTER_SKIP)}));if(n)for(n.currentNode=e;n.nextNode(););},c=e=>{s.get(e)&&r(e,!0);for(let t=e.firstElementChild;t;t=t.nextElementSibling)c(t)},u=()=>{!this._updateTimer&&n.length&&(this._updateTimer=t.setTimeout((()=>{delete this._updateTimer;for(const{element:e,type:t}of n)switch(t){case 2:a(e);break;case 1:l(e);break;case 3:c(e)}n=this._updateQueue=[]}),0))},d=e=>{const t={};for(let s=e;s;s=s.parentElement){const e=E(this._tabster,s);if(e&&(e.groupper&&!t.groupper&&(t.groupper=e.groupper),e.mover)){t.mover=e.mover;break}}return t};n.push({element:e,type:1}),u(),o.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{o.disconnect()}}getState(e){const t=W(this._win,e);if(t in this._visible){const s=this._visible[t]||b.Invisible;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:s}}}}class gt{constructor(e,t){this._init=()=>{this._win().addEventListener("keydown",this._onKeyDown,!0),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=e=>{delete this._movers[e.id]},this._onFocus=e=>{var t;let s=e,i=e;for(let n=null==e?void 0:e.parentElement;n;n=n.parentElement){const e=null===(t=E(this._tabster,n))||void 0===t?void 0:t.mover;e&&(e.setCurrent(i),s=void 0),!s&&this._tabster.focusable.isFocusable(n)&&(s=i=n)}},this._onKeyDown=async e=>{var t,s,n,o;this._ignoredInputTimer&&(this._win().clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),null===(t=this._ignoredInputResolve)||void 0===t||t.call(this,!1);let r=e.keyCode;if(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)return;switch(r){case nt:case it:case st:case tt:case Xe:case Ye:case et:case Ze:break;default:return}const a=this._tabster,l=a.focusedElement.getFocusedElement();if(!l||await this._isIgnoredInput(l,r))return;const c=ce.getTabsterContext(a,l,{checkRtl:!0});if(!c||!c.mover||c.excludedFromMover||c.ignoreKeydown(e))return;const u=c.mover,d=u.getElement();if(c.groupperBeforeMover){const e=c.groupper;if(!e||e.isActive(!0))return;for(let t=null===(s=e.getElement())||void 0===s?void 0:s.parentElement;t&&t!==d;t=t.parentElement)if(null===(o=null===(n=E(a,t))||void 0===n?void 0:n.groupper)||void 0===o?void 0:o.isActive(!0))return}if(!d)return;const h=a.focusable,f=u.getProps(),m=f.direction||g.Both,_=m===g.Both,b=_||m===g.Vertical,v=_||m===g.Horizontal,p=m===g.GridLinear,y=p||m===g.Grid,w=f.cyclic;let T,F,I,k=0,x=0;if(y&&(I=l.getBoundingClientRect(),k=Math.ceil(I.left),x=Math.floor(I.right)),c.rtl&&(r===it?r=tt:r===tt&&(r=it)),r===nt&&b||r===it&&(v||y))if(T=h.findNext({currentElement:l,container:d,useActiveModalizer:!0}),T&&y){const e=Math.ceil(T.getBoundingClientRect().left);!p&&x>e&&(T=void 0)}else!T&&w&&(T=h.findFirst({container:d,useActiveModalizer:!0}));else if(r===st&&b||r===tt&&(v||y))if(T=h.findPrev({currentElement:l,container:d,useActiveModalizer:!0}),T&&y){const e=Math.floor(T.getBoundingClientRect().right);!p&&e>k&&(T=void 0)}else!T&&w&&(T=h.findLast({container:d,useActiveModalizer:!0}));else if(r===et)y?h.findElement({container:d,currentElement:l,useActiveModalizer:!0,isBackward:!0,acceptCondition:e=>{var t;if(!h.isFocusable(e))return!1;const s=Math.ceil(null!==(t=e.getBoundingClientRect().left)&&void 0!==t?t:0);return e!==l&&k<=s||(T=e,!1)}}):T=h.findFirst({container:d,useActiveModalizer:!0});else if(r===Ze)y?h.findElement({container:d,currentElement:l,useActiveModalizer:!0,acceptCondition:e=>{var t;if(!h.isFocusable(e))return!1;const s=Math.ceil(null!==(t=e.getBoundingClientRect().left)&&void 0!==t?t:0);return e!==l&&k>=s||(T=e,!1)}}):T=h.findLast({container:d,useActiveModalizer:!0});else if(r===Ye){if(h.findElement({currentElement:l,container:d,useActiveModalizer:!0,isBackward:!0,acceptCondition:e=>!!h.isFocusable(e)&&(!S(this._win,e,u.visibilityTolerance)||(T=e,!1))}),y&&T){const e=Math.ceil(T.getBoundingClientRect().left);h.findElement({currentElement:T,container:d,useActiveModalizer:!0,acceptCondition:t=>{if(!h.isFocusable(t))return!1;const s=Math.ceil(t.getBoundingClientRect().left);return k<s||e>=s||(T=t,!1)}})}F=!1}else if(r===Xe){if(h.findElement({currentElement:l,container:d,useActiveModalizer:!0,acceptCondition:e=>!!h.isFocusable(e)&&(!S(this._win,e,u.visibilityTolerance)||(T=e,!1))}),y&&T){const e=Math.ceil(T.getBoundingClientRect().left);h.findElement({currentElement:T,container:d,useActiveModalizer:!0,isBackward:!0,acceptCondition:t=>{if(!h.isFocusable(t))return!1;const s=Math.ceil(t.getBoundingClientRect().left);return k>s||e<=s||(T=t,!1)}})}F=!0}else if(y){const e=r===st,t=k,s=Math.ceil(I.top),i=x,n=Math.floor(I.bottom);let o,a,c=0;h.findAll({container:d,currentElement:l,isBackward:e,onElement:r=>{const l=r.getBoundingClientRect(),u=Math.ceil(l.left),d=Math.ceil(l.top),h=Math.floor(l.right),f=Math.floor(l.bottom);if(e&&s<f||!e&&n>d)return!0;const m=Math.ceil(Math.min(i,h))-Math.floor(Math.max(t,u)),_=Math.ceil(Math.min(i-t,h-u));if(m>0&&_>=m){const e=m/_;e>c&&(o=r,c=e)}else if(0===c){const e=function(e,t,s,i,n,o,r,a){const l=s<n?n-s:r<e?e-r:0,c=i<o?o-i:a<t?t-a:0;return 0===l?c:0===c?l:Math.sqrt(l*l+c*c)}(t,s,i,n,u,d,h,f);(void 0===a||e<a)&&(a=e,o=r)}else if(c>0)return!1;return!0}}),T=o}T&&se({by:"mover",owner:d,next:T,relatedEvent:e})&&(void 0!==F&&function(e,t,s){const i=M(t);if(i){const n=A(e,i),o=t.getBoundingClientRect();i.scrollTop+=s?o.top-n.top:o.bottom-n.bottom}}(this._win,T,F),e.preventDefault(),e.stopImmediatePropagation(),(0,i.nativeFocus)(T))},this._tabster=e,this._win=t,this._movers={},e.queueInit(this._init)}dispose(){var e;const t=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),null===(e=this._ignoredInputResolve)||void 0===e||e.call(this,!1),this._ignoredInputTimer&&(t.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),t.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._movers).forEach((e=>{this._movers[e]&&(this._movers[e].dispose(),delete this._movers[e])}))}createMover(e,t,s){const i=new vt(this._tabster,e,this._onMoverDispose,t,s);return this._movers[i.id]=i,i}async _isIgnoredInput(e,t){var s;if("true"===e.getAttribute("aria-expanded")&&e.hasAttribute("aria-activedescendant"))return!0;if(z(e,_t)){let i,n=0,o=0,r=0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName){const i=e.type,a=e.value;if(r=(a||"").length,"email"===i||"number"===i){if(r){const i=null===(s=e.ownerDocument.defaultView)||void 0===s?void 0:s.getSelection();if(i){const e=i.toString().length,s=t===tt||t===st;if(i.modify("extend",s?"backward":"forward","character"),e!==i.toString().length)return i.modify("extend",s?"forward":"backward","character"),!0;r=0}}}else{const t=e.selectionStart;if(null===t)return"hidden"===i;n=t||0,o=e.selectionEnd||0}}else"true"===e.contentEditable&&(i=new(K(this._win))((t=>{this._ignoredInputResolve=e=>{delete this._ignoredInputResolve,t(e)};const s=this._win();this._ignoredInputTimer&&s.clearTimeout(this._ignoredInputTimer);const{anchorNode:i,focusNode:a,anchorOffset:l,focusOffset:c}=s.getSelection()||{};this._ignoredInputTimer=s.setTimeout((()=>{var t,u,d;delete this._ignoredInputTimer;const{anchorNode:h,focusNode:f,anchorOffset:m,focusOffset:_}=s.getSelection()||{};if(h===i&&f===a&&m===l&&_===c){if(n=m||0,o=_||0,r=(null===(u=e.textContent)||void 0===u?void 0:u.length)||0,h&&f&&e.contains(h)&&e.contains(f)&&h!==e){let t=!1;const s=e=>{if(e===h)t=!0;else if(e===f)return!0;const i=e.textContent;if(i&&!e.firstChild){const e=i.length;t?f!==h&&(o+=e):(n+=e,o+=e)}let r=!1;for(let t=e.firstChild;t&&!r;t=t.nextSibling)r=s(t);return r};s(e)}null===(d=this._ignoredInputResolve)||void 0===d||d.call(this,!0)}else null===(t=this._ignoredInputResolve)||void 0===t||t.call(this,!1)}),0)})));if(i&&!await i)return!0;if(n!==o)return!0;if(n>0&&(t===tt||t===st||t===et))return!0;if(n<r&&(t===it||t===nt||t===Ze))return!0}return!1}}class pt extends(613666==s.j?ge:null){constructor(e){super(),this._waiting={},this._lastRequestFocusId=0,this._observedById={},this._observedByName={},this._currentRequestTimestamp=0,this._onFocus=e=>{if(e){const e=this._currentRequest;if(e){Date.now()-this._currentRequestTimestamp>=300&&(delete this._currentRequest,e.cancel())}}},this.onObservedElementUpdate=e=>{var t;const s=null===(t=E(this._tabster,e))||void 0===t?void 0:t.observed,i=W(this._win,e);let n=this._observedById[i];if(s&&B(e.ownerDocument,e)){n||(n=this._observedById[i]={element:new O(this._win,e)}),s.names.sort();const t=s.names,o=n.prevNames;this._isObservedNamesUpdated(t,o)&&(o&&o.forEach((e=>{const t=this._observedByName[e];t&&t[i]&&(Object.keys(t).length>1?delete t[i]:delete this._observedByName[e])})),n.prevNames=t),t.forEach((e=>{let t=this._observedByName[e];t||(t=this._observedByName[e]={}),t[i]=n,this._waitConditional(e)}))}else if(n){const e=n.prevNames;e&&e.forEach((e=>{const t=this._observedByName[e];t&&t[i]&&(Object.keys(t).length>1?delete t[i]:delete this._observedByName[e])})),delete this._observedById[i]}},this._tabster=e,this._win=e.getWindow,e.queueInit((()=>{this._tabster.focusedElement.subscribe(this._onFocus)}))}dispose(){this._tabster.focusedElement.unsubscribe(this._onFocus);for(const e of Object.keys(this._waiting))this._rejectWaiting(e);this._observedById={},this._observedByName={}}_rejectWaiting(e,t){const s=this._waiting[e];if(s){const i=this._win();s.timer&&i.clearTimeout(s.timer),s.conditionTimer&&i.clearTimeout(s.conditionTimer),!t&&s.reject?s.reject():t&&s.resolve&&s.resolve(null),delete this._waiting[e]}}_isObservedNamesUpdated(e,t){if(!t||e.length!==t.length)return!0;for(let s=0;s<e.length;++s)if(e[s]!==t[s])return!0;return!1}getElement(e,t){const s=this._observedByName[e];if(s)for(const e of Object.keys(s)){let i=s[e].element.get()||null;return i?(t===m.Accessible&&!this._tabster.focusable.isAccessible(i)||t===m.Focusable&&!this._tabster.focusable.isFocusable(i,!0))&&(i=null):(delete s[e],delete this._observedById[e]),i}return null}waitElement(e,t,s){const i=this.getElement(e,s);if(i)return{result:K(this._win).resolve(i),cancel:()=>{}};let n;n=s===m.Accessible?"a":s===m.Focusable?"f":"_";const o=n+e;let r=this._waiting[o];if(r&&r.request)return r.request;r=this._waiting[o]={timer:this._win().setTimeout((()=>{r.conditionTimer&&this._win().clearTimeout(r.conditionTimer),delete this._waiting[o],r.resolve&&r.resolve(null)}),t)};const a=new(K(this._win))(((e,t)=>{r.resolve=e,r.reject=t}));return r.request={result:a,cancel:()=>{this._rejectWaiting(o,!0)}},s&&this.getElement(e)&&this._waitConditional(e),r.request}requestFocus(e,t){const s=++this._lastRequestFocusId,i=this._currentRequest;i&&i.cancel();const n=this.waitElement(e,t,m.Focusable);return this._currentRequest=n,this._currentRequestTimestamp=Date.now(),n.result.finally((()=>{this._currentRequest===n&&delete this._currentRequest})),{result:n.result.then((e=>!(this._lastRequestFocusId!==s||!e)&&this._tabster.focusedElement.focus(e,!0))),cancel:()=>{n.cancel()}}}_waitConditional(e){const t="_"+e,s="a"+e,i="f"+e,n=this._waiting[t],o=this._waiting[s],r=this._waiting[i],a=this._win(),l=(t,s,i,n)=>{var o;const r=null===(o=E(this._tabster,t))||void 0===o?void 0:o.observed;r&&r.names.includes(e)&&(i.timer&&a.clearTimeout(i.timer),delete this._waiting[s],i.resolve&&i.resolve(t),this.trigger(t,{names:[e],details:r.details,accessibility:n}))};if(n){const s=this.getElement(e);s&&B(s.ownerDocument,s)&&l(s,t,n,m.Any)}if(o&&!o.conditionTimer){const t=()=>{const i=this.getElement(e);i&&B(i.ownerDocument,i)&&this._tabster.focusable.isAccessible(i)?l(i,s,o,m.Accessible):o.conditionTimer=a.setTimeout(t,100)};t()}if(r&&!r.conditionTimer){const t=()=>{const s=this.getElement(e);s&&B(s.ownerDocument,s)&&this._tabster.focusable.isFocusable(s,!0)?l(s,i,r,m.Focusable):r.conditionTimer=a.setTimeout(t,100)};t()}}}const yt={areaClass:"tabster-focus-outline-area",outlineClass:"tabster-focus-outline",outlineColor:"#ff4500",outlineWidth:2,zIndex:2147483647};let wt=613666==s.j?yt:null;class Et{constructor(e,t,s,i){this.left=e,this.top=t,this.right=s,this.bottom=i}equalsTo(e){return this.left===e.left&&this.top===e.top&&this.right===e.right&&this.bottom===e.bottom}clone(){return new Et(this.left,this.top,this.right,this.bottom)}}class Tt{constructor(e){this._isVisible=!1,this._allOutlineElements=[],this._init=()=>{this._tabster.keyboardNavigation.subscribe(this._onKeyboardNavigationStateChanged),this._tabster.focusedElement.subscribe(this._onFocus);const e=this._win();e.addEventListener("scroll",this._onScroll,!0),this._fullScreenEventName&&e.document.addEventListener(this._fullScreenEventName,this._onFullScreenChanged)},this._onFullScreenChanged=e=>{if(!this._fullScreenElementName||!e.target)return;const t=e.target.body||e.target,s=this._getDOM(t);if(t.ownerDocument&&s){const e=t.ownerDocument[this._fullScreenElementName];e?(e.appendChild(s.container),this._fullScreenElement=e):(t.ownerDocument.body.appendChild(s.container),this._fullScreenElement=void 0)}},this._onKeyboardNavigationStateChanged=()=>{this._onFocus(this._tabster.focusedElement.getFocusedElement())},this._onFocus=e=>{!this._updateElement(e)&&this._isVisible&&this._setVisibility(!1)},this._onScroll=e=>{this._outlinedElement&&Tt._isParentChild(e.target,this._outlinedElement)&&(this._curPos=void 0,this._setOutlinePosition())},this._tabster=e,this._win=e.getWindow,e.queueInit(this._init),"undefined"!=typeof document&&("onfullscreenchange"in document?(this._fullScreenEventName="fullscreenchange",this._fullScreenElementName="fullscreenElement"):"onwebkitfullscreenchange"in document?(this._fullScreenEventName="webkitfullscreenchange",this._fullScreenElementName="webkitFullscreenElement"):"onmozfullscreenchange"in document?(this._fullScreenEventName="mozfullscreenchange",this._fullScreenElementName="mozFullScreenElement"):"onmsfullscreenchange"in document&&(this._fullScreenEventName="msfullscreenchange",this._fullScreenElementName="msFullscreenElement"))}setup(e){wt={...wt,...e};const t=this._win();t.__tabsterOutline||(t.__tabsterOutline={}),t.__tabsterOutline.style||(t.__tabsterOutline.style=Ft(t.document,wt)),e&&e.areaClass?t.document.body.classList.remove(yt.areaClass):t.document.body.classList.add(yt.areaClass)}dispose(){const e=this._win();this._updateTimer&&(e.clearTimeout(this._updateTimer),this._updateTimer=void 0),this._tabster.keyboardNavigation.unsubscribe(this._onKeyboardNavigationStateChanged),this._tabster.focusedElement.unsubscribe(this._onFocus),e.removeEventListener("scroll",this._onScroll,!0),this._fullScreenEventName&&e.document.removeEventListener(this._fullScreenEventName,this._onFullScreenChanged),this._allOutlineElements.forEach((e=>this._removeDOM(e.container))),this._allOutlineElements=[],delete this._outlinedElement,delete this._curPos,delete this._curOutlineElements,delete this._fullScreenElement}_shouldShowCustomOutline(e){const t=E(this._tabster,e);if(t&&t.outline&&t.outline.isIgnored)return!1;for(let t=e;t;t=t.parentElement)if(t.classList&&t.classList.contains(wt.areaClass))return!0;return!1}_updateElement(e){if(this._outlinedElement=void 0,this._updateTimer&&(this._win().clearTimeout(this._updateTimer),this._updateTimer=void 0),this._curPos=void 0,!this._tabster.keyboardNavigation.isNavigatingWithKeyboard())return!1;if(e){if("INPUT"===e.tagName){if(!(e.type in{button:!0,checkbox:!0,file:!0,image:!0,radio:!0,range:!0,reset:!0,submit:!0}))return!1}else if("TEXTAREA"===e.tagName||"true"===e.contentEditable||"IFRAME"===e.tagName)return!1;return!!this._shouldShowCustomOutline(e)&&(this._tabster.keyboardNavigation.isNavigatingWithKeyboard()&&(this._outlinedElement=e,this._updateOutline()),!0)}return!1}_updateOutline(){this._setOutlinePosition(),this._updateTimer&&(this._win().clearTimeout(this._updateTimer),this._updateTimer=void 0),this._outlinedElement&&(this._updateTimer=this._win().setTimeout((()=>{this._updateTimer=void 0,this._updateOutline()}),30))}_setVisibility(e){this._isVisible=e,this._curOutlineElements&&(e?this._curOutlineElements.container.classList.add(`${wt.outlineClass}_visible`):(this._curOutlineElements.container.classList.remove(`${wt.outlineClass}_visible`),this._curPos=void 0))}_setOutlinePosition(){if(!this._outlinedElement)return;let e=A(this._win,this._outlinedElement);const t=new Et(e.left,e.top,e.right,e.bottom);if(this._curPos&&t.equalsTo(this._curPos))return;const s=this._getDOM(this._outlinedElement),i=this._outlinedElement.ownerDocument&&this._outlinedElement.ownerDocument.defaultView;if(!s||!i)return;this._curOutlineElements!==s&&(this._setVisibility(!1),this._curOutlineElements=s),this._curPos=t;const n=t.clone();let o=!1,r=!1;const a=s.container,l=a&&a.ownerDocument&&a.ownerDocument.scrollingElement;if(!l)return;for(let t=this._outlinedElement.parentElement;t&&t.nodeType===Node.ELEMENT_NODE&&t!==this._fullScreenElement;t=t.parentElement){e=A(this._win,t);const s=t.ownerDocument&&t.ownerDocument.defaultView;if(!s)return;const i=s.getComputedStyle(t),a=i.position;"absolute"===a?o=!0:"fixed"!==a&&"sticky"!==a||(r=!0),"visible"!==i.overflow&&((o||r)&&"hidden"!==i.overflow||(e.left>n.left&&(n.left=e.left),e.top>n.top&&(n.top=e.top),e.right<n.right&&(n.right=e.right),e.bottom<n.bottom&&(n.bottom=e.bottom)))}const c=A(this._win,l),u=c.left+c.right,d=c.top+c.bottom,h=wt.outlineWidth;n.left=n.left>h?n.left-h:0,n.top=n.top>h?n.top-h:0,n.right=n.right<u-h?n.right+h:u,n.bottom=n.bottom<d-h?n.bottom+h:d;const f=n.right-n.left,m=n.bottom-n.top;if(f>2*h&&m>2*h){const e=s.left,t=s.top,o=s.right,l=s.bottom,c=this._fullScreenElement||r?0:i.pageXOffset,u=this._fullScreenElement||r?0:i.pageYOffset;a.style.position=r?"fixed":"absolute",a.style.background=wt.outlineColor,e.style.width=o.style.width=t.style.height=l.style.height=wt.outlineWidth+"px",e.style.left=t.style.left=l.style.left=n.left+c+"px",o.style.left=n.left+c+f-h+"px",e.style.top=o.style.top=t.style.top=n.top+u+"px",l.style.top=n.top+u+m-h+"px",e.style.height=o.style.height=m+"px",t.style.width=l.style.width=f+"px",this._setVisibility(!0)}else this._setVisibility(!1)}_getDOM(e){const t=e.ownerDocument,s=t&&t.defaultView;if(t&&s&&s.__tabsterOutline){if(s.__tabsterOutline.style||(s.__tabsterOutline.style=Ft(t,wt)),!s.__tabsterOutline.elements){const e={container:t.createElement("div"),left:t.createElement("div"),top:t.createElement("div"),right:t.createElement("div"),bottom:t.createElement("div")};e.container.className=wt.outlineClass,e.left.className=`${wt.outlineClass}__left`,e.top.className=`${wt.outlineClass}__top`,e.right.className=`${wt.outlineClass}__right`,e.bottom.className=`${wt.outlineClass}__bottom`,e.container.appendChild(e.left),e.container.appendChild(e.top),e.container.appendChild(e.right),e.container.appendChild(e.bottom),t.body.appendChild(e.container),s.__tabsterOutline.elements=e,this._allOutlineElements.push(e)}return s.__tabsterOutline.elements}}_removeDOM(e){const t=e.ownerDocument&&e.ownerDocument.defaultView,s=t&&t.__tabsterOutline;if(!s)return;s.style&&s.style.parentNode&&(s.style.parentNode.removeChild(s.style),delete s.style);const i=s&&s.elements;i&&(i.container.parentNode&&i.container.parentNode.removeChild(i.container),delete s.elements)}static _isParentChild(e,t){return t===e||!!(e.compareDocumentPosition(t)&document.DOCUMENT_POSITION_CONTAINED_BY)}}function Ft(e,t){const s=e.createElement("style");return s.type="text/css",s.appendChild(e.createTextNode(function(e){return`\n.${e.areaClass} *, .${e.areaClass} *:focus {\noutline: none !important;\n}\n\n.${e.outlineClass} {\ndisplay: none;\nposition: absolute;\nwidth: 0;\nheight: 0;\nleft: 0;\ntop: 0;\nz-index: ${e.zIndex};\n}\n\n.${e.outlineClass}.${e.outlineClass}_visible {\ndisplay: block;\n}\n\n.${e.outlineClass}__left,\n.${e.outlineClass}__top,\n.${e.outlineClass}__right,\n.${e.outlineClass}__bottom {\nposition: absolute;\nbackground: inherit;\n}`}(t))),e.head.appendChild(s),s}class It{constructor(e){this._isUncontrolledCompletely=e}isUncontrolledCompletely(e,t){var s;const i=null===(s=this._isUncontrolledCompletely)||void 0===s?void 0:s.call(this,e,t);return void 0===i?t:i}}const kt="restorer:restorefocus";class xt extends(613666==s.j?H:null){constructor(e,t,s){var i;if(super(e,t,s),this._hasFocus=!1,this._onFocusOut=e=>{var t;const s=null===(t=this._element)||void 0===t?void 0:t.get();s&&null===e.relatedTarget&&s.dispatchEvent(new Event(kt,{bubbles:!0})),s&&!s.contains(e.relatedTarget)&&(this._hasFocus=!1)},this._onFocusIn=()=>{this._hasFocus=!0},this._props.type===v.Source){const e=null===(i=this._element)||void 0===i?void 0:i.get();null==e||e.addEventListener("focusout",this._onFocusOut),null==e||e.addEventListener("focusin",this._onFocusIn)}}dispose(){var e,t;if(this._props.type===v.Source){const s=null===(e=this._element)||void 0===e?void 0:e.get();if(null==s||s.removeEventListener("focusout",this._onFocusOut),null==s||s.removeEventListener("focusin",this._onFocusIn),this._hasFocus){null===(t=this._tabster.getWindow().document.body)||void 0===t||t.dispatchEvent(new Event(kt,{bubbles:!0}))}}}}class Dt{constructor(e){this._history=[],this._restoreFocusTimeout=0,this._onRestoreFocus=e=>{const t=this._getWindow();this._restoreFocusTimeout&&t.clearTimeout(this._restoreFocusTimeout),this._restoreFocusTimeout=t.setTimeout((()=>this._restoreFocus(e.target)))},this._onFocusIn=e=>{var t;if(!e)return;const s=E(this._tabster,e);(null===(t=null==s?void 0:s.restorer)||void 0===t?void 0:t.getProps().type)===v.Target&&this._addToHistory(e)},this._restoreFocus=e=>{var t,s,i;const n=this._getWindow().document;if(n.activeElement!==n.body)return;if(!this._keyboardNavState.isNavigatingWithKeyboard()&&n.body.contains(e))return;let o=this._history.pop();for(;o&&!n.body.contains(null!==(s=null===(t=o.get())||void 0===t?void 0:t.parentElement)&&void 0!==s?s:null);)o=this._history.pop();null===(i=null==o?void 0:o.get())||void 0===i||i.focus()},this._tabster=e,this._getWindow=e.getWindow,this._getWindow().addEventListener(kt,this._onRestoreFocus),this._keyboardNavState=e.keyboardNavigation,this._focusedElementState=e.focusedElement,this._focusedElementState.subscribe(this._onFocusIn)}dispose(){const e=this._getWindow();this._focusedElementState.unsubscribe(this._onFocusIn),e.removeEventListener(kt,this._onRestoreFocus),this._restoreFocusTimeout&&e.clearTimeout(this._restoreFocusTimeout)}_addToHistory(e){var t;(null===(t=this._history[this._history.length-1])||void 0===t?void 0:t.get())!==e&&(this._history.length>10&&this._history.shift(),this._history.push(new O(this._getWindow,e)))}createRestorer(e,t){const s=new xt(this._tabster,e,t);return t.type===v.Target&&e.ownerDocument.activeElement===e&&this._addToHistory(e),s}}class Ot{constructor(e){this.keyboardNavigation=e.keyboardNavigation,this.focusedElement=e.focusedElement,this.focusable=e.focusable,this.root=e.root,this.uncontrolled=e.uncontrolled,this.core=e}}class Ct{constructor(e,t){var s,i;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="5.2.0",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=function(e){const t=e.__tabsterInstanceContext;return new((null==t?void 0:t.basics.WeakMap)||WeakMap)}(e),this._win=e;const o=this.getWindow;this.keyboardNavigation=new ct(o),this.focusedElement=new ot(this,o),this.focusable=new qe(this),this.root=new ce(this,null==t?void 0:t.autoRoot),this.uncontrolled=new It((null==t?void 0:t.checkUncontrolledCompletely)||(null==t?void 0:t.checkUncontrolledTrappingFocus)),this.controlTab=null===(s=null==t?void 0:t.controlTab)||void 0===s||s,this.rootDummyInputs=!!(null==t?void 0:t.rootDummyInputs),this._dummyObserver=new X(o),this.getParent=null!==(i=null==t?void 0:t.getParent)&&void 0!==i?i:e=>e.parentElement,this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:e=>{if(!this._unobserve){const t=o().document;this._unobserve=function(e,t,s,i){if("undefined"==typeof MutationObserver)return()=>{};const o=t.getWindow;let r;function a(t,s){r||(r=x(o).elementByUId),l(t,s);const i=N(e,t,(e=>l(e,s)));if(i)for(;i.nextNode(););}function l(e,i){var a;if(!e.getAttribute)return NodeFilter.FILTER_SKIP;const l=e.__tabsterElementUID;return l&&r&&(i?delete r[l]:null!==(a=r[l])&&void 0!==a||(r[l]=new O(o,e))),(E(t,e)||e.hasAttribute(n))&&s(t,e,i),NodeFilter.FILTER_SKIP}const c=new MutationObserver((e=>{var i,o,r,l,c;for(const c of e){const e=c.target,u=c.removedNodes,d=c.addedNodes;if("attributes"===c.type)c.attributeName===n&&s(t,e);else{for(let s=0;s<u.length;s++)a(u[s],!0),null===(o=(i=t._dummyObserver).domChanged)||void 0===o||o.call(i,e);for(let s=0;s<d.length;s++)a(d[s]),null===(l=(r=t._dummyObserver).domChanged)||void 0===l||l.call(r,e)}}null===(c=t.modalizer)||void 0===c||c.hiddenUpdate()}));return i&&a(o().document.body),c.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[n]}),()=>{c.disconnect()}}(t,this,T,e)}}},R(o),this.queueInit((()=>{this.internal.resumeObserver(!0)}))}_mergeProps(e){var t;e&&(this.getParent=null!==(t=e.getParent)&&void 0!==t?t:this.getParent)}createTabster(e,t){const s=new Ot(this);return e||this._wrappers.add(s),this._mergeProps(t),s}disposeTabster(e,t){t?this._wrappers.clear():this._wrappers.delete(e),0===this._wrappers.size&&this.dispose()}dispose(){var e,t,s,i,n,o,r,a;this.internal.stopObserver();const l=this._win;null==l||l.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],l&&this._forgetMemorizedTimer&&(l.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),null===(e=this.outline)||void 0===e||e.dispose(),null===(t=this.crossOrigin)||void 0===t||t.dispose(),null===(s=this.deloser)||void 0===s||s.dispose(),null===(i=this.groupper)||void 0===i||i.dispose(),null===(n=this.mover)||void 0===n||n.dispose(),null===(o=this.modalizer)||void 0===o||o.dispose(),null===(r=this.observedElement)||void 0===r||r.dispose(),null===(a=this.restorer)||void 0===a||a.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),function(e){const t=x(e);t.fakeWeakRefsStarted=!1,t.fakeWeakRefsTimer&&(e().clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefsTimer=void 0,t.fakeWeakRefs=[])}(this.getWindow),j(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),l&&(!function(e){const t=e.__tabsterInstanceContext;t&&(t.elementByUId={},delete t.WeakRef,t.containerBoundingRectCache={},t.containerBoundingRectCacheTimer&&e.clearTimeout(t.containerBoundingRectCacheTimer),t.fakeWeakRefsTimer&&e.clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefs=[],delete e.__tabsterInstanceContext)}(l),delete l.__tabsterInstance,delete this._win)}storageEntry(e,t){const s=this._storage;let i=s.get(e);return i?!1===t&&0===Object.keys(i).length&&s.delete(e):!0===t&&(i={},s.set(e,i)),i}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),this._forgetMemorizedTimer||(this._forgetMemorizedTimer=this._win.setTimeout((()=>{delete this._forgetMemorizedTimer;for(let e=this._forgetMemorizedElements.shift();e;e=this._forgetMemorizedElements.shift())j(this.getWindow,e),ot.forgetMemorized(this.focusedElement,e)}),0),C(this.getWindow,!0)))}queueInit(e){var t;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=null===(t=this._win)||void 0===t?void 0:t.setTimeout((()=>{delete this._initTimer,this.drainInitQueue()}),0)))}drainInitQueue(){if(!this._win)return;const e=this._initQueue;this._initQueue=[],e.forEach((e=>e()))}}function Rt(e){e.core.forceCleanup()}function Nt(e,t){let s=Vt(e);return s?s.createTabster(!1,t):(s=new Ct(e,t),e.__tabsterInstance=s,s.createTabster())}function At(e){const t=Vt(e);return t?t.createTabster(!0):null}function St(e){const t=e.core;return t.groupper||(t.groupper=new lt(t,t.getWindow)),t.groupper}function Mt(e){const t=e.core;return t.mover||(t.mover=new gt(t,t.getWindow)),t.mover}function Pt(e){const t=e.core;return t.outline||(t.outline=new Tt(t)),t.outline}function Lt(e,t){const s=e.core;return s.deloser||(s.deloser=new ve(s,t)),s.deloser}function Wt(e,t,s){const i=e.core;return i.modalizer||(i.modalizer=new mt(i,t,s)),i.modalizer}function Ut(e){const t=e.core;return t.observedElement||(t.observedElement=new pt(t)),t.observedElement}function jt(e){const t=e.core;return t.crossOrigin||(Lt(e),Wt(e),Mt(e),St(e),Pt(e),Ut(e),t.crossOrigin=new He(t)),t.crossOrigin}function Bt(e){return e.core.internal}function zt(e){const t=e.core;return t.restorer||(t.restorer=new Dt(t)),t.restorer}function Kt(e,t){e.core.disposeTabster(e,t)}function Vt(e){return e.__tabsterInstance}function Ht(e,t){const s=e.core;if(s._noop!==t){s._noop=t;const e=e=>e.getAttribute?((E(s,e)||e.hasAttribute(n))&&T(s,e),NodeFilter.FILTER_SKIP):NodeFilter.FILTER_SKIP,i=s.getWindow().document,o=i.body;e(o);const r=N(i,o,e);if(r)for(;r.nextNode(););}}function $t(e){return e._noop}},313522:(e,t,s)=>{s.r(t),s.d(t,{useDisposable:()=>u,useIsStrictMode:()=>o});var i=s(818319),n=()=>i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current,o=(613666==s.j&&Symbol.for("react.strict_mode"),()=>!1),r=new WeakSet;function a(e,t){const s=n();i.useEffect((()=>{if(!r.has(s))return r.add(s),void e();return e()}),t)}var l=new WeakSet;function c(e,t){return i.useMemo((()=>{const t=n();return l.has(t)?e():(l.add(t),null)}),t)}function u(e,t){var s;const n=o()&&!1,r=n?c:i.useMemo,l=n?a:i.useEffect,[u,d]=null!=(s=r((()=>e()),t))?s:[null,()=>null];return l((()=>d),t),u}}}]);
//# sourceMappingURL=https://local.teams.office.com/sourcemaps/hashed-assets/469488-f504ebd579902cf3.js.map